

<!DOCTYPE html>

<html lang="en-US">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">

  <link rel="stylesheet" href="/docs/archive/v0.6.3/assets/css/just-the-docs-default.css">

  <link rel="stylesheet" href="/docs/archive/v0.6.3/assets/css/just-the-docs-head-nav.css" id="jtd-head-nav-stylesheet">

  <style id="jtd-nav-activation">
  

    .site-nav > ul.nav-list:first-child > li > a,
    .site-nav > ul.nav-list:first-child > li > ul > li > a,
    
    .site-nav > ul.nav-list:first-child > li > ul > li > ul > li:not(:nth-child(8)) > a,
    .site-nav > ul.nav-list:first-child > li > ul > li > ul > li > ul > li a {
      background-image: none;
    }

    .site-nav > ul.nav-list:not(:first-child) a,
    .site-nav li.external a {
      background-image: none;
    }

    .site-nav > ul.nav-list:first-child > li:nth-child(5) > ul > li:nth-child(4) > ul > li:nth-child(8) > a {
      font-weight: 600;
      text-decoration: none;
    }.site-nav > ul.nav-list:first-child > li:nth-child(5) > button svg,
    .site-nav > ul.nav-list:first-child > li:nth-child(5) > ul > li:nth-child(4) > button svg,
    .site-nav > ul.nav-list:first-child > li:nth-child(5) > ul > li:nth-child(4) > ul > li:nth-child(8) > button svg {
      transform: rotate(-90deg);
    }.site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(5) > ul.nav-list,
    .site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(5) > ul.nav-list > li.nav-list-item:nth-child(4) > ul.nav-list,
    .site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(5) > ul.nav-list > li.nav-list-item:nth-child(4) > ul.nav-list > li.nav-list-item:nth-child(8) > ul.nav-list {
      display: block;
    }
  </style>

  
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-122931168-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      
        gtag('config', 'UA-122931168-1', { 'anonymize_ip': true });
      
    </script>
  

  
    <script src="/docs/archive/v0.6.3/assets/js/vendor/lunr.min.js"></script>
  

  <script src="/docs/archive/v0.6.3/assets/js/just-the-docs.js"></script>

  <meta name="viewport" content="width=device-width, initial-scale=1">

  

  <link rel="icon" href="/docs/archive/v0.6.3/favicon.ico" type="image/x-icon">



  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Respiration Analyzer | PhysioData Toolbox (v0.6.3 Archive)</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="Respiration Analyzer" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="The PhysioData Toolbox is an application for analyzing physiological signals." />
<meta property="og:description" content="The PhysioData Toolbox is an application for analyzing physiological signals." />
<link rel="canonical" href="https://physiodatatoolbox.leidenuniv.nl/docs/archive/v0.6.3/docs/user-guide/physioanalyzer-modules/resp-module.html" />
<meta property="og:url" content="https://physiodatatoolbox.leidenuniv.nl/docs/archive/v0.6.3/docs/user-guide/physioanalyzer-modules/resp-module.html" />
<meta property="og:site_name" content="PhysioData Toolbox (v0.6.3 Archive)" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Respiration Analyzer" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"The PhysioData Toolbox is an application for analyzing physiological signals.","headline":"Respiration Analyzer","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://physiodatatoolbox.leidenuniv.nl/docs/archive/v0.6.3/assets/images/pdt.svg"}},"url":"https://physiodatatoolbox.leidenuniv.nl/docs/archive/v0.6.3/docs/user-guide/physioanalyzer-modules/resp-module.html"}</script>
<!-- End Jekyll SEO tag -->


  

</head>

<body>
  <a class="skip-to-main" href="#main-content">Skip to main content</a>
  <svg xmlns="http://www.w3.org/2000/svg" class="d-none">
  <symbol id="svg-link" viewBox="0 0 24 24">
  <title>Link</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link">
    <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
  </svg>
</symbol>

  <symbol id="svg-menu" viewBox="0 0 24 24">
  <title>Menu</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu">
    <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>
  </svg>
</symbol>

  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
  <title>Expand</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right">
    <polyline points="9 18 15 12 9 6"></polyline>
  </svg>
</symbol>

  <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE -->
<symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link">
  <title id="svg-external-link-title">(external link)</title>
  <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line>
</symbol>

  
    <symbol id="svg-doc" viewBox="0 0 24 24">
  <title>Document</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file">
    <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline>
  </svg>
</symbol>

    <symbol id="svg-search" viewBox="0 0 24 24">
  <title>Search</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search">
    <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>
  </svg>
</symbol>

  
  
    <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md -->
<symbol id="svg-copy" viewBox="0 0 16 16">
  <title>Copy</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16">
    <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/>
    <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/>
  </svg>
</symbol>
<symbol id="svg-copied" viewBox="0 0 16 16">
  <title>Copied</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16">
    <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/>
    <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/>
  </svg>
</symbol>

  
</svg>

  
    <div class="side-bar">
  <div class="site-header" role="banner">
    <a href="/docs/archive/v0.6.3/" class="site-title lh-tight">
  <div class="site-logo" role="img" aria-label="PhysioData Toolbox (v0.6.3 Archive)"></div>

</a>
    <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false">
      <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg>
    </button>
  </div>

  <nav aria-label="Main" id="site-nav" class="site-nav">
  
  
    <ul class="nav-list"><li class="nav-list-item"><a href="/docs/archive/v0.6.3/" class="nav-list-link">Home</a></li><li class="nav-list-item"><a href="/docs/archive/v0.6.3/docs/features.html" class="nav-list-link">Features</a></li><li class="nav-list-item"><a href="/docs/archive/v0.6.3/docs/installation.html" class="nav-list-link">Download and Installation</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Tutorial category" aria-pressed="false">
        <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
      </button><a href="/docs/archive/v0.6.3/docs/tutorial.html" class="nav-list-link">Tutorial</a><ul class="nav-list"><li class="nav-list-item"><a href="/docs/archive/v0.6.3/docs/tutorial/basics.html" class="nav-list-link">Basic Walkthrough</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in User Guide category" aria-pressed="false">
        <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
      </button><a href="/docs/archive/v0.6.3/docs/user-guide.html" class="nav-list-link">User Guide</a><ul class="nav-list"><li class="nav-list-item"><a href="/docs/archive/v0.6.3/docs/user-guide/file-converter.html" class="nav-list-link">File Converter</a></li><li class="nav-list-item"><a href="/docs/archive/v0.6.3/docs/user-guide/session-manager.html" class="nav-list-link">Session Manager</a></li><li class="nav-list-item"><a href="/docs/archive/v0.6.3/docs/user-guide/data-viewers.html" class="nav-list-link">Data Viewers</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in PhysioAnalyzers category" aria-pressed="false">
        <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
      </button><a href="/docs/archive/v0.6.3/docs/user-guide/physioanalyzer-modules.html" class="nav-list-link">PhysioAnalyzers</a><ul class="nav-list"><li class="nav-list-item"><a href="/docs/archive/v0.6.3/docs/user-guide/physioanalyzer-modules/overview.html" class="nav-list-link">Overview</a></li><li class="nav-list-item"><a href="/docs/archive/v0.6.3/docs/user-guide/physioanalyzer-modules/physioanalyzer.html" class="nav-list-link">Generic Signal Analyzer</a></li><li class="nav-list-item"><a href="/docs/archive/v0.6.3/docs/user-guide/physioanalyzer-modules/ecg-module.html" class="nav-list-link">ECG Signal Analyzer</a></li><li class="nav-list-item"><a href="/docs/archive/v0.6.3/docs/user-guide/physioanalyzer-modules/ibi-module.html" class="nav-list-link">IBI Sequence Analyzer</a></li><li class="nav-list-item"><a href="/docs/archive/v0.6.3/docs/user-guide/physioanalyzer-modules/hrv-module.html" class="nav-list-link">HRV Analyzer</a></li><li class="nav-list-item"><a href="/docs/archive/v0.6.3/docs/user-guide/physioanalyzer-modules/icg-ensemble-module.html" class="nav-list-link">ICG Ensemble Analyzer</a></li><li class="nav-list-item"><a href="/docs/archive/v0.6.3/docs/user-guide/physioanalyzer-modules/bp-module.html" class="nav-list-link">Blood Pressure Analyzer</a></li><li class="nav-list-item"><a href="/docs/archive/v0.6.3/docs/user-guide/physioanalyzer-modules/resp-module.html" class="nav-list-link">Respiration Analyzer</a></li><li class="nav-list-item"><a href="/docs/archive/v0.6.3/docs/user-guide/physioanalyzer-modules/emg-module.html" class="nav-list-link">EMG Analyzer</a></li><li class="nav-list-item"><a href="/docs/archive/v0.6.3/docs/user-guide/physioanalyzer-modules/SC-module.html" class="nav-list-link">Skin Conductance Analyzer</a></li><li class="nav-list-item"><a href="/docs/archive/v0.6.3/docs/user-guide/physioanalyzer-modules/pupil-module.html" class="nav-list-link">Pupil Diameter Analyzer</a></li><li class="nav-list-item"><a href="/docs/archive/v0.6.3/docs/user-guide/physioanalyzer-modules/aoi-module.html" class="nav-list-link">Area of Interest Hit Analyzer</a></li></ul></li><li class="nav-list-item"><a href="/docs/archive/v0.6.3/docs/user-guide/epochs.html" class="nav-list-link">Epochs</a></li><li class="nav-list-item"><a href="/docs/archive/v0.6.3/docs/user-guide/physiodata-file-format.html" class="nav-list-link">PhysioData File Format</a></li></ul></li><li class="nav-list-item"><a href="/docs/archive/v0.6.3/docs/change-log.html" class="nav-list-link">Version History</a></li><li class="nav-list-item"><a href="/docs/archive/v0.6.3/docs/about.html" class="nav-list-link">About</a></li></ul>
  
</nav>




  
  
    <footer class="site-footer">
      This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.
    </footer>
  
</div>

  
  <div class="main" id="top">
    <div id="main-header" class="main-header">
  
    

<div class="search" role="search">
  <div class="search-input-wrap">
    <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search PhysioData Toolbox (v0.6.3 Archive)" aria-label="Search PhysioData Toolbox (v0.6.3 Archive)" autocomplete="off">
    <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label>
  </div>
  <div id="search-results" class="search-results"></div>
</div>

  
  <!---
    This include defines the custom header, which specifies the current version.
    If the current version is not the latest, it will be displayed in a different color.
-->



<nav aria-label="Auxiliary" class="aux-nav">
    <ul class="aux-nav-list">

        <li class="aux-nav-list-item">
            <a href="/docs/doc-versions.html" class="site-button fs-4"
                title="Click for other PhysioData Toolbox versions."
                  style="background-color: #f10b3747;" 
                >
                Version&nbsp;0.6.3&nbsp;(Archive)
            </a>
        </li>

    </ul>
</nav>

  
</div>

    <div class="main-content-wrap">
      <nav aria-label="Breadcrumb" class="breadcrumb-nav">
  <ol class="breadcrumb-nav-list">
    <li class="breadcrumb-nav-list-item"><a href="/docs/archive/v0.6.3/docs/user-guide.html">User Guide</a></li>
    <li class="breadcrumb-nav-list-item"><a href="/docs/archive/v0.6.3/docs/user-guide/physioanalyzer-modules.html">PhysioAnalyzers</a></li>
    <li class="breadcrumb-nav-list-item"><span>Respiration Analyzer</span></li>
  </ol>
</nav>


      <div id="main-content" class="main-content">
        <main>
          
            <h1 class="pdt-abstract-title, no_toc" id="respiration-analyzer">
  
  
    <a href="#respiration-analyzer" class="anchor-heading" aria-labelledby="respiration-analyzer"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Respiration Analyzer
  
  
</h1>
    

<p class="pdt-abstract-body">The Respiration Analyzer preprocesses and analyzes a chest or abdomen expansion signal.</p><hr />
<details open="">
  <summary class="text-delta">
    Table of contents
  </summary>
<ol id="markdown-toc">
  <li><a href="#introduction" id="markdown-toc-introduction">Introduction</a></li>
  <li><a href="#user-corrections" id="markdown-toc-user-corrections">User Corrections</a></li>
  <li><a href="#processing-and-analysis-pipeline" id="markdown-toc-processing-and-analysis-pipeline">Processing and Analysis Pipeline</a>    <ol>
      <li><a href="#step-1-filtering-the-signal" id="markdown-toc-step-1-filtering-the-signal">Step 1: Filtering the signal</a></li>
      <li><a href="#step-2-generating-the-moving-mean-signal" id="markdown-toc-step-2-generating-the-moving-mean-signal">Step 2: Generating the Moving Mean Signal</a></li>
      <li><a href="#step-2-detecting-the-intercepts" id="markdown-toc-step-2-detecting-the-intercepts">Step 2: Detecting the Intercepts</a></li>
      <li><a href="#step-3-finding-inhalation-and-exhalation-onsets" id="markdown-toc-step-3-finding-inhalation-and-exhalation-onsets">Step 3: Finding Inhalation and Exhalation Onsets</a></li>
      <li><a href="#step-4-defining-breaths" id="markdown-toc-step-4-defining-breaths">Step 4: Defining Breaths</a></li>
      <li><a href="#step-5-generating-the-smooth-breath-period-signal" id="markdown-toc-step-5-generating-the-smooth-breath-period-signal">Step 5: Generating the Smooth Breath Period Signal</a></li>
      <li><a href="#step-6-data-analysis" id="markdown-toc-step-6-data-analysis">Step 6: Data Analysis</a></li>
    </ol>
  </li>
  <li><a href="#settings" id="markdown-toc-settings">Settings</a></li>
  <li><a href="#metrics" id="markdown-toc-metrics">Metrics</a></li>
  <li><a href="#references" id="markdown-toc-references">References</a></li>
</ol>

</details><hr />
<h1 id="introduction">
  
  
    <a href="#introduction" class="anchor-heading" aria-labelledby="introduction"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Introduction
  
  
</h1>
    
<p>The <strong>Respiration Analyzer</strong> preprocesses a chest or abdomen expansion signal generated by a force-transducer, and calculates basic descriptive statistics for inhalation, exhalation, and breath phases, per epoch.</p>

<p>The respiration module defines a single breath as an inhalation followed directly by an exhalation. Breaths cannot exist without both an inhalation and an exhalation phase. The current version does not classify a breath-hold phase. Breaths, inhalations, and exhalations are timestamped at the end of their cycle.</p>

<!---
    Images include for nice images in the PDT Doc.
-->

<!-- Left and right padding for image:
 - Allow users to set a left indent parameter,
   which overrides the image's tendency to center.
-->

<!-- The image path:
-->

<!-- The image number counter:
-->

<!-- iF this is the first run, add a modal div (for popups)  
        https://www.w3schools.com/howto/howto_css_modal_images.asp
-->
<div id="myModal" class="modal">
    <span class="close">&times;</span>
    <img class="modal-content" id="img01" data-proofer-ignore="" />
    <div id="caption"></div>
</div>

<script>

    // Close the modal window when users click it's background:
    var modal = document.getElementById("myModal");
    modal.style.cursor ="pointer";
    modal.onclick = function () {
        modal.style.display = "none";
        
        // Reenable the scrollbar on the overlying body:
        document.body.style.overflow = '';
    }

    

</script>

<!-- Determine the ID: 
-->

<!-- Add fancy img-aware drop-shadow:
        https://stackoverflow.com/questions/3186688/drop-shadow-for-png-image-in-css
-->

<!-- Make figure:
        Use table for formatting, see:
        https://stackoverflow.com/a/11652170 
-->
<figure class="" style="
        padding: 0px;
        padding-left: 26px;
        padding-right: 26px;
         margin: auto; 
        margin-bottom: 24px;
        margin-top: 38px;
        display: table;
        
        ">

    <!-- Add an image with a link to the image source: -->
    <!-- <a href="
https://physiodatatoolbox.leidenuniv.nl/docs/archive/v0.6.3/assets/images/user-guide/physioanalyzers/resp-module-gui-1.png
 " title="Respiration Analyzer"> -->
    <img class="pdtImg" id="gui-1" src="
https://physiodatatoolbox.leidenuniv.nl/docs/archive/v0.6.3/assets/images/user-guide/physioanalyzers/resp-module-gui-1.png
 " alt="Respiration Analyzer" style="
            
            display: block;
            -webkit-filter: drop-shadow(1px 1px 3px #222);filter: drop-shadow(1px 1px 3px #222);;
            " />
    <!-- </a> -->
    <!-- Add caption, with a "Figure X:" prefix that
        has a link to the figure anchor.
        Format the caption as one font size smaller than the body.-->
    
    <figcaption class="fs-3" style="
            line-height: 1.5;
                padding: 0px;
                 padding-top: 16px; 
                padding-left: 26px;
                padding-right: 26px;
                padding-bottom: 20px;
                text-align: justify;
                display: table-caption;
                caption-side: bottom;">
        <a href="#gui-1">Figure 1</a>:
        The Respiration Module GUI.
    </figcaption>
    
</figure>

<!---
    Add lightbox popup code:
-->

<script>


    // Get the modal
    var modal = document.getElementById("myModal");

    // Get the image and insert it inside the modal - use its "alt" text as a caption
    var img = document.getElementById("gui-1");
    var modalImg = document.getElementById("img01");
    var captionText = document.getElementById("caption");
    img.onclick = function () {
        modal.style.display = "block";
        modalImg.src = this.src;
        captionText.innerHTML = "The Respiration Module GUI.";
        modalImg.style.cssText =  "-webkit-filter: drop-shadow(1px 1px 3px #222);filter: drop-shadow(1px 1px 3px #222);";

        // Disable the scrollbar on the overlying body:
        document.body.style.overflow = 'hidden';
    }

    // Get the <span> element that closes the modal
    var span = document.getElementsByClassName("close")[0];

    // When the user clicks on <span> (x), close the modal
    span.onclick = function () {
        modal.style.display = "none";
    }

</script><hr />
<h1 id="user-corrections">
  
  
    <a href="#user-corrections" class="anchor-heading" aria-labelledby="user-corrections"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> User Corrections
  
  
</h1>
    
<p>The Respiration Analyzer module allows users to remove complete breath cycles by selecting a section in the main graph and selecting the ‘disregard’ option, which adds a ‘Resp-skip’ zone to the module. Any breath that overlaps any skip zones, even partially, are completely removed.</p><hr />
<h1 id="processing-and-analysis-pipeline">
  
  
    <a href="#processing-and-analysis-pipeline" class="anchor-heading" aria-labelledby="processing-and-analysis-pipeline"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Processing and Analysis Pipeline
  
  
</h1>
    
<p>The data processing and analysis pipeline used by the Respiration module is described below. The method is based on the approach described by Lu et al. (2006)<sup id="fnref:1" role="doc-noteref"><a href="#fn:1" class="footnote" rel="footnote">1</a></sup>.</p>
<h2 id="step-1-filtering-the-signal">
  
  
    <a href="#step-1-filtering-the-signal" class="anchor-heading" aria-labelledby="step-1-filtering-the-signal"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Step 1: Filtering the signal
  
  
</h2>
    
<p>The raw respiration transducer signal is fetched from the specified channel, and multiplied by the specified gain. If enabled, the signal is then low and/or high pass filtered at the specified cutoff frequencies.</p>
<h2 id="step-2-generating-the-moving-mean-signal">
  
  
    <a href="#step-2-generating-the-moving-mean-signal" class="anchor-heading" aria-labelledby="step-2-generating-the-moving-mean-signal"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Step 2: Generating the Moving Mean Signal
  
  
</h2>
    
<p>The article<sup id="fnref:1:1" role="doc-noteref"><a href="#fn:1" class="footnote" rel="footnote">1</a></sup> calculates a moving average signal from the respiration signal, then uses the locations of the intercepts between these signals to search for the inhalation and exhalation transitions. The article uses a Fast Fourier transform (FFT) to estimate the respiration period (T) of the signal, then uses this to dimension the moving average window, which they give a width of 2T. Since the Toolbox does not assume steady state free-breathing, the respiration rate is instead estimated using a half-overlap moving window, across the whole signal, in order to take varying T values into account.</p>

<p>The signal is first resampled to 100 Hz, high-pass filtered at 0.05 Hz, and split into windows of 60 seconds, with 15 second overlaps on each side. Then, using FFT, the T is estimated per window, and that window is filtered using a moving mean filter with a window length equal to <strong>T_multiplier</strong> times the estimated T of that window, with T_multiplier being a user-specifiable setting.</p>

<p>The windows are then reassembled into a single signal, smoothed using a 1-second moving mean filter, and resampled to the original respiration signal frequency.</p>
<h2 id="step-2-detecting-the-intercepts">
  
  
    <a href="#step-2-detecting-the-intercepts" class="anchor-heading" aria-labelledby="step-2-detecting-the-intercepts"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Step 2: Detecting the Intercepts
  
  
</h2>
    
<p>First, the Toolbox searches for the up and down-intercepts of the moving mean signal produced by step 2, and the filtered respiration signal produced by step 1.
Secondly, all up-intercepts that do not follow a down-intercept, and all down-intercepts that do not follow up-intercepts are iteratively deleted until the intercept series alternates between up and down intercepts.</p>

<p>Thirdly, all intercept intervals that are shorter than 100 ms are removed, with intercept intervals being defined as down-intercepts times minus the corresponding up-intercept times.</p>
<h2 id="step-3-finding-inhalation-and-exhalation-onsets">
  
  
    <a href="#step-3-finding-inhalation-and-exhalation-onsets" class="anchor-heading" aria-labelledby="step-3-finding-inhalation-and-exhalation-onsets"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Step 3: Finding Inhalation and Exhalation Onsets
  
  
</h2>
    
<p>Inhalation onsets are detected by searching backwards from each up-intercept, and looking for the first sample that features a positive gradient; i.e., searching for the start of the slope, on the filtered respiration signal, which intercepts the moving mean signal. The onset is then placed on the first sample after the start of the slope that features a gradient larger than the specified percentage of the maximum gradient of the slope. Note that the end of the slope is defined as the last sample with a positive gradient.</p>

<p>If the <strong>max/min</strong> method for inhalation/exhalation onset detection was chosen, the start and end of the slopes are instead defined as the minimum and maximum values of the filtered respiration signals between the down-intercepts surrounding the up-intercept in question.</p>

<p>The exhalations are detected in the same way, albeit in inverse.</p>

<p>The end of each inhalation and exhalation phase is defined as occurring on the sample before the next inhalation or exhalation start.</p>
<h2 id="step-4-defining-breaths">
  
  
    <a href="#step-4-defining-breaths" class="anchor-heading" aria-labelledby="step-4-defining-breaths"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Step 4: Defining Breaths
  
  
</h2>
    
<p>Using the inhalation and exhalation onsets and offsets detected in step 3, breaths are defined as starting at an inhalation onset, and ending at the subsequent exhalation offset, with an inhalation/exhalation transaction in between.</p>

<p>Subsequently, inhalations with a duration shorter than the specified minimum threshold are detected and merged into the surrounding exhalation. Similarly, short exhalations are merged into the surrounding inhalations.</p>

<p>Inhalations with amplitudes that are smaller than the local moving mean minus a multiplier times the local moving standard deviation are then also merged into the surrounding exhalations. The moving mean and moving standard deviation are calculated using the user-specified window span, and the rejection threshold is calculated using the user-specified multiplier. Inhalation and exhalation amplitudes are defined as the value of the filtered respiration signal at the end of the phase, minus that at the start of the phase. Breaths that feature inhalations that are larger than the local moving mean plus the multitier times the local moving standard deviation are completely removed.</p>

<p>Next, the exhalation amplitude outliers are processed in the same way.</p>

<p>Breaths containing either inhalations or exhalation with durations that are larger than the specified maximum are then completely removed.</p>

<p>Next, breaths containing either inhalations or exhalation with durations that are larger than the local moving mean plus the multitier times the local moving standard deviation are also completely removed.</p>

<p>Lastly, all breaths that overlap the user-specified <strong>resp-skip</strong> zones are removed, even if they only partly overlap the skip zone.</p>
<h2 id="step-5-generating-the-smooth-breath-period-signal">
  
  
    <a href="#step-5-generating-the-smooth-breath-period-signal" class="anchor-heading" aria-labelledby="step-5-generating-the-smooth-breath-period-signal"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Step 5: Generating the Smooth Breath Period Signal
  
  
</h2>
    
<p>A breath period is defined as the duration from the start of a breath to the end, with the breath being timestamped at the end of that breath. A smooth breath period signal is generated by smoothing the breath time series using the <strong>lowess</strong> method, with a span being the user-specified smoothing window width.</p>

<p>The smoothed breath period time-series  are then interpolated at 50 Hz using the <strong>pchip</strong> method to form the smooth continuous breath period signal.</p>
<h2 id="step-6-data-analysis">
  
  
    <a href="#step-6-data-analysis" class="anchor-heading" aria-labelledby="step-6-data-analysis"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Step 6: Data Analysis
  
  
</h2>
    
<p>When analyzing the data, the minimum, mean, median, maximum and standard deviation of the inhalation, exhalation and breath durations, and the breath amplitude, are calculated for each epoch. Inhalations, exhalations and breaths are only included inside an epoch if they start and end inside the epoch.</p>

<p>Additionally, the total number of full breaths, and the breath coverage—which is the sum of all breath durations as a percentage of the epoch duration—are calculated.</p><hr />
<h1 id="settings">
  
  
    <a href="#settings" class="anchor-heading" aria-labelledby="settings"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Settings
  
  
</h1>
    
<p>The auto-generated list below shows the settings available in the Respiration Analyzer module:</p>

<ul>
  <li>
    <p><strong>General Settings:</strong><br />
 Name, source and epoch settings for this PhysioAnalyzer.</p>

    <ul>
      <li>
        <p><strong>Analyzer prefix (tag):</strong><br />
 The tag (name) of this PhysioAnalyzer. The tag must be unique and start with a letter, and may only contain alphanumeric characters.</p>
      </li>
      <li>
        <p><strong>Channel-number of signal:</strong><br />
 The channel number (index) of the signal to be analyzed.</p>
      </li>
      <li>
        <p><strong>Generate epochs from:</strong><br />
 Specifies how epochs are generated.</p>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>Preprocessing Settings</strong><br />
 Settings for processing the raw respiration signal. This module assumes that a force transducer was used to measure the chest or abdominal expansion, with upward slopes corresponding to inhalations.</p>

    <ul>
      <li>
        <p><strong>Gain (signal multiplier) [x]:</strong><br />
 The gain is the value with which the raw signal is multiplied before being further processed and analyzed.</p>
      </li>
      <li>
        <p><strong>Lowpass filter [Hz]:</strong><br />
 The low-pass filter and its cutoff frequency.</p>
      </li>
      <li>
        <p><strong>Highpass filter [Hz]:</strong><br />
 The high-pass filter and its cutoff frequency.</p>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>Inhalation and Exhalation Detection:</strong><br />
 The Toolbox detects inhalations and exhalations by analyzing the intercepts of the respiration signal and its moving mean. Inhalations or exhalations that violate duration or amplitude criteria are automatically rejected. The onset of each inhalation/exhalation can be detected by looking at the min/max of the signal, or the start of the slope, and corrected using a slope gradient threshold.</p>

    <ul>
      <li>
        <p><strong>Moving-mean multiplier [-]:</strong><br />
 The moving mean is calculated using an adaptive moving window with a length equal to the local estimated respiration period times this multiplier.</p>
      </li>
      <li>
        <p><strong>Min. &amp; max. inhalation duration [s]:</strong><br />
 Inhalations must have a duration between these limits.</p>
      </li>
      <li>
        <p><strong>Min. &amp; max. exhalation duration [s]:</strong><br />
 Exhalations must have a duration between these limits.</p>
      </li>
      <li>
        <p><strong>Outlier filter threshold and span [s]:</strong><br />
 The std multiplier and window span, in seconds, of the moving mean std outlier rejection filter.</p>
      </li>
      <li>
        <p><strong>Inhalation/Exhalation detection [ ]:</strong><br />
 The start of the inhalation and exhalation can be detected by either looking for the minimum or maximum, or looking for the onset of the slopes.</p>
      </li>
      <li>
        <p><strong>Slope gradient threshold [%]:</strong><br />
 Each inhalation or exhalation starts when the  absolute gradient exceeds the absolute maximum during the slope.</p>
      </li>
      <li>
        <p><strong>Smoothing window width [s]:</strong><br />
 The breath periods are smoothed using a lowess filter with this span, in seconds.</p>
      </li>
    </ul>
  </li>
</ul><hr />
<h1 id="metrics">
  
  
    <a href="#metrics" class="anchor-heading" aria-labelledby="metrics"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Metrics
  
  
</h1>
    
<p>The auto-generated table belows lists all the metrics produced by the Respiration Analyzer module.</p>

<!---
    This include generates a table with metrics for a given PhysioAnalyzer module.
-->

<p class="fs-3 mb-1"><a id="metrics" href="#metrics">Table 1</a>:
The metrics calculated by the Respiration Analyzer module.</p>
<div class="table-wrapper"><table>
  
    
    <tr>
      
        <th>Variable:</th>
      
        <th>Unit:</th>
      
        <th>Description:</th>
      
    </tr>
    

    <tr class="row1">
<td class="col1">
      Min_inhalation_dur
    </td><td class="col2">
      s
    </td><td class="col3">
      The minimum inhalation duration, per epoch.
    </td></tr>

  
    

    <tr class="row1">
<td class="col1">
      Mean_inhalation_dur
    </td><td class="col2">
      s
    </td><td class="col3">
      The mean inhalation duration, per epoch.
    </td></tr>

  
    

    <tr class="row1">
<td class="col1">
      Median_inhalation_dur
    </td><td class="col2">
      s
    </td><td class="col3">
      The median inhalation duration, per epoch.
    </td></tr>

  
    

    <tr class="row1">
<td class="col1">
      Max_inhalation_dur
    </td><td class="col2">
      s
    </td><td class="col3">
      The maximum inhalation duration, per epoch.
    </td></tr>

  
    

    <tr class="row1">
<td class="col1">
      Std_inhalation_dur
    </td><td class="col2">
      s
    </td><td class="col3">
      The standard deviation of the inhalation durations, per epoch.
    </td></tr>

  
    

    <tr class="row1">
<td class="col1">
      Min_exhalation_dur
    </td><td class="col2">
      s
    </td><td class="col3">
      The minimum exhalation duration, per epoch.
    </td></tr>

  
    

    <tr class="row1">
<td class="col1">
      Mean_exhalation_dur
    </td><td class="col2">
      s
    </td><td class="col3">
      The mean exhalation duration, per epoch.
    </td></tr>

  
    

    <tr class="row1">
<td class="col1">
      Median_exhalation_dur
    </td><td class="col2">
      s
    </td><td class="col3">
      The median exhalation duration, per epoch.
    </td></tr>

  
    

    <tr class="row1">
<td class="col1">
      Max_exhalation_dur
    </td><td class="col2">
      s
    </td><td class="col3">
      The maximum exhalation duration, per epoch.
    </td></tr>

  
    

    <tr class="row1">
<td class="col1">
      Std_exhalation_dur
    </td><td class="col2">
      s
    </td><td class="col3">
      The standard deviation of the exhalation durations, per epoch.
    </td></tr>

  
    

    <tr class="row1">
<td class="col1">
      Min_breath_dur
    </td><td class="col2">
      s
    </td><td class="col3">
      The minimum breath duration, per epoch.
    </td></tr>

  
    

    <tr class="row1">
<td class="col1">
      Mean_breath_dur
    </td><td class="col2">
      s
    </td><td class="col3">
      The mean breath duration, per epoch.
    </td></tr>

  
    

    <tr class="row1">
<td class="col1">
      Median_breath_dur
    </td><td class="col2">
      s
    </td><td class="col3">
      The median breath duration, per epoch.
    </td></tr>

  
    

    <tr class="row1">
<td class="col1">
      Max_breath_dur
    </td><td class="col2">
      s
    </td><td class="col3">
      The maximum breath duration, per epoch.
    </td></tr>

  
    

    <tr class="row1">
<td class="col1">
      Std_breath_dur
    </td><td class="col2">
      s
    </td><td class="col3">
      The standard deviation of the breath durations, per epoch.
    </td></tr>

  
    

    <tr class="row1">
<td class="col1">
      Min_breath_amp
    </td><td class="col2">
      V
    </td><td class="col3">
      The minimum breath amplitude, per epoch.
    </td></tr>

  
    

    <tr class="row1">
<td class="col1">
      Mean_breath_amp
    </td><td class="col2">
      V
    </td><td class="col3">
      The mean breath amplitude, per epoch.
    </td></tr>

  
    

    <tr class="row1">
<td class="col1">
      Median_breath_amp
    </td><td class="col2">
      V
    </td><td class="col3">
      The median breath amplitude, per epoch.
    </td></tr>

  
    

    <tr class="row1">
<td class="col1">
      Max_breath_amp
    </td><td class="col2">
      V
    </td><td class="col3">
      The maximum breath amplitude, per epoch.
    </td></tr>

  
    

    <tr class="row1">
<td class="col1">
      Std_breath_amp
    </td><td class="col2">
      V
    </td><td class="col3">
      The standard deviation of the breath amplitudes, per epoch.
    </td></tr>

  
    

    <tr class="row1">
<td class="col1">
      fullBreathsCount
    </td><td class="col2">
      -
    </td><td class="col3">
      The number of complete breaths detected inside the epoch.
    </td></tr>

  
    

    <tr class="row1">
<td class="col1">
      breathCoverage
    </td><td class="col2">
      %
    </td><td class="col3">
      Percentage of the epoch covered by full breaths; i.e. the total breath duration over the epoch duration, multiplied by 100.
    </td></tr>

  
    

    <tr class="row1">
<td class="col1">
      mean_InterpBreathPeriod
    </td><td class="col2">
      s
    </td><td class="col3">
      The mean of the breath period, calculated as the mean of the smooth interpolated breath period (i.e. breath duration) signal, per epoch.
    </td></tr>

  
</table></div><hr />
<h1 id="references">
  
  
    <a href="#references" class="anchor-heading" aria-labelledby="references"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> References
  
  
</h1>
    

<div class="footnotes" role="doc-endnotes">
  <ol>
    <li id="fn:1" role="doc-endnote">
      <p>Lu, W., Nystrom, M. M., Parikh, P. J., Fooshee, D. R., Hubenschmidt, J. P., Bradley, J.D., &amp; Low, D. A. (2006). A semi-automatic method for peak and valley detection in free-breathing respiratory waveforms. Medical Physics, 33, 3634-3636. <a href="#fnref:1" class="reversefootnote" role="doc-backlink">&#8617;</a> <a href="#fnref:1:1" class="reversefootnote" role="doc-backlink">&#8617;<sup>2</sup></a></p>
    </li>
  </ol>
</div>

          

          
            
          
        </main>
        

  <hr>
  <footer>
    

    
<!-- The attrib footer -->
<p class="text-small text-grey-dk-100 mb-0">© Copyright Leiden University, 2022.</p>

    
  </footer>


      </div>
    </div>
    
      

<div class="search-overlay"></div>

    
  </div>

  
</body>
</html>

