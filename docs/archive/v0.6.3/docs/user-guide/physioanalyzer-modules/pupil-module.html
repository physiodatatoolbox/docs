

<!DOCTYPE html>

<html lang="en-US">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">

  <link rel="stylesheet" href="/docs/archive/v0.6.3/assets/css/just-the-docs-default.css">

  <link rel="stylesheet" href="/docs/archive/v0.6.3/assets/css/just-the-docs-head-nav.css" id="jtd-head-nav-stylesheet">

  <style id="jtd-nav-activation">
  

    .site-nav > ul.nav-list:first-child > li > a,
    .site-nav > ul.nav-list:first-child > li > ul > li > a,
    
    .site-nav > ul.nav-list:first-child > li > ul > li > ul > li:not(:nth-child(11)) > a,
    .site-nav > ul.nav-list:first-child > li > ul > li > ul > li > ul > li a {
      background-image: none;
    }

    .site-nav > ul.nav-list:not(:first-child) a,
    .site-nav li.external a {
      background-image: none;
    }

    .site-nav > ul.nav-list:first-child > li:nth-child(5) > ul > li:nth-child(4) > ul > li:nth-child(11) > a {
      font-weight: 600;
      text-decoration: none;
    }.site-nav > ul.nav-list:first-child > li:nth-child(5) > button svg,
    .site-nav > ul.nav-list:first-child > li:nth-child(5) > ul > li:nth-child(4) > button svg,
    .site-nav > ul.nav-list:first-child > li:nth-child(5) > ul > li:nth-child(4) > ul > li:nth-child(11) > button svg {
      transform: rotate(-90deg);
    }.site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(5) > ul.nav-list,
    .site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(5) > ul.nav-list > li.nav-list-item:nth-child(4) > ul.nav-list,
    .site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(5) > ul.nav-list > li.nav-list-item:nth-child(4) > ul.nav-list > li.nav-list-item:nth-child(11) > ul.nav-list {
      display: block;
    }
  </style>

  
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-122931168-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      
        gtag('config', 'UA-122931168-1', { 'anonymize_ip': true });
      
    </script>
  

  
    <script src="/docs/archive/v0.6.3/assets/js/vendor/lunr.min.js"></script>
  

  <script src="/docs/archive/v0.6.3/assets/js/just-the-docs.js"></script>

  <meta name="viewport" content="width=device-width, initial-scale=1">

  

  <link rel="icon" href="/docs/archive/v0.6.3/favicon.ico" type="image/x-icon">



  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Pupil Diameter Analyzer | PhysioData Toolbox (v0.6.3 Archive)</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="Pupil Diameter Analyzer" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="The PhysioData Toolbox is an application for analyzing physiological signals." />
<meta property="og:description" content="The PhysioData Toolbox is an application for analyzing physiological signals." />
<link rel="canonical" href="https://physiodatatoolbox.leidenuniv.nl/docs/archive/v0.6.3/docs/user-guide/physioanalyzer-modules/pupil-module.html" />
<meta property="og:url" content="https://physiodatatoolbox.leidenuniv.nl/docs/archive/v0.6.3/docs/user-guide/physioanalyzer-modules/pupil-module.html" />
<meta property="og:site_name" content="PhysioData Toolbox (v0.6.3 Archive)" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Pupil Diameter Analyzer" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"The PhysioData Toolbox is an application for analyzing physiological signals.","headline":"Pupil Diameter Analyzer","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://physiodatatoolbox.leidenuniv.nl/docs/archive/v0.6.3/assets/images/pdt.svg"}},"url":"https://physiodatatoolbox.leidenuniv.nl/docs/archive/v0.6.3/docs/user-guide/physioanalyzer-modules/pupil-module.html"}</script>
<!-- End Jekyll SEO tag -->


  

</head>

<body>
  <a class="skip-to-main" href="#main-content">Skip to main content</a>
  <svg xmlns="http://www.w3.org/2000/svg" class="d-none">
  <symbol id="svg-link" viewBox="0 0 24 24">
  <title>Link</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link">
    <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
  </svg>
</symbol>

  <symbol id="svg-menu" viewBox="0 0 24 24">
  <title>Menu</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu">
    <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>
  </svg>
</symbol>

  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
  <title>Expand</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right">
    <polyline points="9 18 15 12 9 6"></polyline>
  </svg>
</symbol>

  <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE -->
<symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link">
  <title id="svg-external-link-title">(external link)</title>
  <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line>
</symbol>

  
    <symbol id="svg-doc" viewBox="0 0 24 24">
  <title>Document</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file">
    <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline>
  </svg>
</symbol>

    <symbol id="svg-search" viewBox="0 0 24 24">
  <title>Search</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search">
    <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>
  </svg>
</symbol>

  
  
    <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md -->
<symbol id="svg-copy" viewBox="0 0 16 16">
  <title>Copy</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16">
    <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/>
    <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/>
  </svg>
</symbol>
<symbol id="svg-copied" viewBox="0 0 16 16">
  <title>Copied</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16">
    <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/>
    <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/>
  </svg>
</symbol>

  
</svg>

  
    <div class="side-bar">
  <div class="site-header" role="banner">
    <a href="/docs/archive/v0.6.3/" class="site-title lh-tight">
  <div class="site-logo" role="img" aria-label="PhysioData Toolbox (v0.6.3 Archive)"></div>

</a>
    <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false">
      <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg>
    </button>
  </div>

  <nav aria-label="Main" id="site-nav" class="site-nav">
  
  
    <ul class="nav-list"><li class="nav-list-item"><a href="/docs/archive/v0.6.3/" class="nav-list-link">Home</a></li><li class="nav-list-item"><a href="/docs/archive/v0.6.3/docs/features.html" class="nav-list-link">Features</a></li><li class="nav-list-item"><a href="/docs/archive/v0.6.3/docs/installation.html" class="nav-list-link">Download and Installation</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Tutorial category" aria-pressed="false">
        <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
      </button><a href="/docs/archive/v0.6.3/docs/tutorial.html" class="nav-list-link">Tutorial</a><ul class="nav-list"><li class="nav-list-item"><a href="/docs/archive/v0.6.3/docs/tutorial/basics.html" class="nav-list-link">Basic Walkthrough</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in User Guide category" aria-pressed="false">
        <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
      </button><a href="/docs/archive/v0.6.3/docs/user-guide.html" class="nav-list-link">User Guide</a><ul class="nav-list"><li class="nav-list-item"><a href="/docs/archive/v0.6.3/docs/user-guide/file-converter.html" class="nav-list-link">File Converter</a></li><li class="nav-list-item"><a href="/docs/archive/v0.6.3/docs/user-guide/session-manager.html" class="nav-list-link">Session Manager</a></li><li class="nav-list-item"><a href="/docs/archive/v0.6.3/docs/user-guide/data-viewers.html" class="nav-list-link">Data Viewers</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in PhysioAnalyzers category" aria-pressed="false">
        <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
      </button><a href="/docs/archive/v0.6.3/docs/user-guide/physioanalyzer-modules.html" class="nav-list-link">PhysioAnalyzers</a><ul class="nav-list"><li class="nav-list-item"><a href="/docs/archive/v0.6.3/docs/user-guide/physioanalyzer-modules/overview.html" class="nav-list-link">Overview</a></li><li class="nav-list-item"><a href="/docs/archive/v0.6.3/docs/user-guide/physioanalyzer-modules/physioanalyzer.html" class="nav-list-link">Generic Signal Analyzer</a></li><li class="nav-list-item"><a href="/docs/archive/v0.6.3/docs/user-guide/physioanalyzer-modules/ecg-module.html" class="nav-list-link">ECG Signal Analyzer</a></li><li class="nav-list-item"><a href="/docs/archive/v0.6.3/docs/user-guide/physioanalyzer-modules/ibi-module.html" class="nav-list-link">IBI Sequence Analyzer</a></li><li class="nav-list-item"><a href="/docs/archive/v0.6.3/docs/user-guide/physioanalyzer-modules/hrv-module.html" class="nav-list-link">HRV Analyzer</a></li><li class="nav-list-item"><a href="/docs/archive/v0.6.3/docs/user-guide/physioanalyzer-modules/icg-ensemble-module.html" class="nav-list-link">ICG Ensemble Analyzer</a></li><li class="nav-list-item"><a href="/docs/archive/v0.6.3/docs/user-guide/physioanalyzer-modules/bp-module.html" class="nav-list-link">Blood Pressure Analyzer</a></li><li class="nav-list-item"><a href="/docs/archive/v0.6.3/docs/user-guide/physioanalyzer-modules/resp-module.html" class="nav-list-link">Respiration Analyzer</a></li><li class="nav-list-item"><a href="/docs/archive/v0.6.3/docs/user-guide/physioanalyzer-modules/emg-module.html" class="nav-list-link">EMG Analyzer</a></li><li class="nav-list-item"><a href="/docs/archive/v0.6.3/docs/user-guide/physioanalyzer-modules/SC-module.html" class="nav-list-link">Skin Conductance Analyzer</a></li><li class="nav-list-item"><a href="/docs/archive/v0.6.3/docs/user-guide/physioanalyzer-modules/pupil-module.html" class="nav-list-link">Pupil Diameter Analyzer</a></li><li class="nav-list-item"><a href="/docs/archive/v0.6.3/docs/user-guide/physioanalyzer-modules/aoi-module.html" class="nav-list-link">Area of Interest Hit Analyzer</a></li></ul></li><li class="nav-list-item"><a href="/docs/archive/v0.6.3/docs/user-guide/epochs.html" class="nav-list-link">Epochs</a></li><li class="nav-list-item"><a href="/docs/archive/v0.6.3/docs/user-guide/physiodata-file-format.html" class="nav-list-link">PhysioData File Format</a></li></ul></li><li class="nav-list-item"><a href="/docs/archive/v0.6.3/docs/change-log.html" class="nav-list-link">Version History</a></li><li class="nav-list-item"><a href="/docs/archive/v0.6.3/docs/about.html" class="nav-list-link">About</a></li></ul>
  
</nav>




  
  
    <footer class="site-footer">
      This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.
    </footer>
  
</div>

  
  <div class="main" id="top">
    <div id="main-header" class="main-header">
  
    

<div class="search" role="search">
  <div class="search-input-wrap">
    <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search PhysioData Toolbox (v0.6.3 Archive)" aria-label="Search PhysioData Toolbox (v0.6.3 Archive)" autocomplete="off">
    <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label>
  </div>
  <div id="search-results" class="search-results"></div>
</div>

  
  <!---
    This include defines the custom header, which specifies the current version.
    If the current version is not the latest, it will be displayed in a different color.
-->



<nav aria-label="Auxiliary" class="aux-nav">
    <ul class="aux-nav-list">

        <li class="aux-nav-list-item">
            <a href="/docs/doc-versions.html" class="site-button fs-4"
                title="Click for other PhysioData Toolbox versions."
                  style="background-color: #f10b3747;" 
                >
                Version&nbsp;0.6.3&nbsp;(Archive)
            </a>
        </li>

    </ul>
</nav>

  
</div>

    <div class="main-content-wrap">
      <nav aria-label="Breadcrumb" class="breadcrumb-nav">
  <ol class="breadcrumb-nav-list">
    <li class="breadcrumb-nav-list-item"><a href="/docs/archive/v0.6.3/docs/user-guide.html">User Guide</a></li>
    <li class="breadcrumb-nav-list-item"><a href="/docs/archive/v0.6.3/docs/user-guide/physioanalyzer-modules.html">PhysioAnalyzers</a></li>
    <li class="breadcrumb-nav-list-item"><span>Pupil Diameter Analyzer</span></li>
  </ol>
</nav>


      <div id="main-content" class="main-content">
        <main>
          
            <h1 class="pdt-abstract-title, no_toc" id="pupil-diameter-analyzer">
  
  
    <a href="#pupil-diameter-analyzer" class="anchor-heading" aria-labelledby="pupil-diameter-analyzer"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Pupil Diameter Analyzer
  
  
</h1>
    

<p class="pdt-abstract-body">The Pupil Diameter Analyzer performs epoch-based analysis of pupil diameter data.</p><hr />
<details open="">
  <summary class="text-delta">
    Table of contents
  </summary>
<ol id="markdown-toc">
  <li><a href="#introduction" id="markdown-toc-introduction">Introduction</a></li>
  <li><a href="#user-corrections" id="markdown-toc-user-corrections">User Corrections</a>    <ol>
      <li><a href="#fast-mode" id="markdown-toc-fast-mode">Fast-Mode</a>        <ol>
          <li><a href="#eye-selection" id="markdown-toc-eye-selection">Eye Selection</a></li>
          <li><a href="#zone-type-selection" id="markdown-toc-zone-type-selection">Zone-Type Selection</a></li>
        </ol>
      </li>
    </ol>
  </li>
  <li><a href="#processing-and-analysis-pipeline" id="markdown-toc-processing-and-analysis-pipeline">Processing and Analysis Pipeline</a>    <ol>
      <li><a href="#step-1-filtering-the-raw-data" id="markdown-toc-step-1-filtering-the-raw-data">Step 1: Filtering the Raw Data</a>        <ol>
          <li><a href="#removing-dilation-speed-outliers-and-edge-artifacts" id="markdown-toc-removing-dilation-speed-outliers-and-edge-artifacts">Removing Dilation-Speed Outliers and Edge-Artifacts</a></li>
          <li><a href="#removing-trend-line-outliers" id="markdown-toc-removing-trend-line-outliers">Removing Trend-line Outliers</a></li>
          <li><a href="#removing-isolated-and-sparse-samples" id="markdown-toc-removing-isolated-and-sparse-samples">Removing Isolated and Sparse Samples</a></li>
        </ol>
      </li>
      <li><a href="#step-2-processing-the-valid-samples" id="markdown-toc-step-2-processing-the-valid-samples">Step 2: Processing the Valid Samples</a></li>
    </ol>
  </li>
  <li><a href="#settings" id="markdown-toc-settings">Settings</a></li>
  <li><a href="#metrics" id="markdown-toc-metrics">Metrics</a></li>
  <li><a href="#resampled-signals" id="markdown-toc-resampled-signals">Resampled Signals</a></li>
  <li><a href="#references" id="markdown-toc-references">References</a></li>
</ol>

</details><hr />
<h1 id="introduction">
  
  
    <a href="#introduction" class="anchor-heading" aria-labelledby="introduction"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Introduction
  
  
</h1>
    
<p>The <strong>Pupil Diameter Analyzer</strong> performs epoch-based analysis of pupil diameter data. The module performs outlier rejection and filters the data using user-specified settings and criteria. In addition, the module allows the user to amend or override the filter’s rejections. The purpose of the module is to generate smooth pupil diameter signals that are suitable for epoch-based analyses, or further processing<sup id="fnref:1" role="doc-noteref"><a href="#fn:1" class="footnote" rel="footnote">1</a></sup>.</p>

<!---
    Images include for nice images in the PDT Doc.
-->

<!-- Left and right padding for image:
 - Allow users to set a left indent parameter,
   which overrides the image's tendency to center.
-->

<!-- The image path:
-->

<!-- The image number counter:
-->

<!-- iF this is the first run, add a modal div (for popups)  
        https://www.w3schools.com/howto/howto_css_modal_images.asp
-->
<div id="myModal" class="modal">
    <span class="close">&times;</span>
    <img class="modal-content" id="img01" data-proofer-ignore="" />
    <div id="caption"></div>
</div>

<script>

    // Close the modal window when users click it's background:
    var modal = document.getElementById("myModal");
    modal.style.cursor ="pointer";
    modal.onclick = function () {
        modal.style.display = "none";
        
        // Reenable the scrollbar on the overlying body:
        document.body.style.overflow = '';
    }

    

</script>

<!-- Determine the ID: 
-->

<!-- Add fancy img-aware drop-shadow:
        https://stackoverflow.com/questions/3186688/drop-shadow-for-png-image-in-css
-->

<!-- Make figure:
        Use table for formatting, see:
        https://stackoverflow.com/a/11652170 
-->
<figure class="" style="
        padding: 0px;
        padding-left: 26px;
        padding-right: 26px;
         margin: auto; 
        margin-bottom: 24px;
        margin-top: 38px;
        display: table;
        
        ">

    <!-- Add an image with a link to the image source: -->
    <!-- <a href="
https://physiodatatoolbox.leidenuniv.nl/docs/archive/v0.6.3/assets/images/user-guide/physioanalyzers/pupil-module-gui-1.png
 " title="Pupil Diameter Analyzer"> -->
    <img class="pdtImg" id="gui-1" src="
https://physiodatatoolbox.leidenuniv.nl/docs/archive/v0.6.3/assets/images/user-guide/physioanalyzers/pupil-module-gui-1.png
 " alt="Pupil Diameter Analyzer" style="
            
            display: block;
            -webkit-filter: drop-shadow(1px 1px 3px #222);filter: drop-shadow(1px 1px 3px #222);;
            " />
    <!-- </a> -->
    <!-- Add caption, with a "Figure X:" prefix that
        has a link to the figure anchor.
        Format the caption as one font size smaller than the body.-->
    
    <figcaption class="fs-3" style="
            line-height: 1.5;
                padding: 0px;
                 padding-top: 16px; 
                padding-left: 26px;
                padding-right: 26px;
                padding-bottom: 20px;
                text-align: justify;
                display: table-caption;
                caption-side: bottom;">
        <a href="#gui-1">Figure 1</a>:
        The Pupil Diameter analyzer gui.
    </figcaption>
    
</figure>

<!---
    Add lightbox popup code:
-->

<script>


    // Get the modal
    var modal = document.getElementById("myModal");

    // Get the image and insert it inside the modal - use its "alt" text as a caption
    var img = document.getElementById("gui-1");
    var modalImg = document.getElementById("img01");
    var captionText = document.getElementById("caption");
    img.onclick = function () {
        modal.style.display = "block";
        modalImg.src = this.src;
        captionText.innerHTML = "The Pupil Diameter analyzer gui.";
        modalImg.style.cssText =  "-webkit-filter: drop-shadow(1px 1px 3px #222);filter: drop-shadow(1px 1px 3px #222);";

        // Disable the scrollbar on the overlying body:
        document.body.style.overflow = 'hidden';
    }

    // Get the <span> element that closes the modal
    var span = document.getElementsByClassName("close")[0];

    // When the user clicks on <span> (x), close the modal
    span.onclick = function () {
        modal.style.display = "none";
    }

</script>

<p>Aside from the standard epoch plot at the top, the GUI consists of the following graphs:</p>

<ul>
  <li>
    <p><strong>Force Reject:</strong><br />
 The Force Reject correction graph shows the zones in which the user overrides the filter’s rejection of raw samples; i.e., the user forces the inclusion of the samples within the marked zone. Both the Force Reject and Force Accept graphs feature two bars, one for the right pupil (green-colored bottom bar) and one for the left (red-colored  top bar) pupil.</p>
  </li>
  <li>
    <p><strong>Force Accept:</strong><br />
 The Force Accept correction graph shows the zones in which the user overrides the filter’s inclusion of raw samples; i.e., the user forces the exclusion of samples.</p>
  </li>
  <li>
    <p><strong>Pupil Diameter:</strong><br />
 The pupil diameter graph shows the raw and valid pupil diameter samples, as well as the interpolated and filtered pupil diameter signals.</p>
  </li>
</ul><hr />
<h1 id="user-corrections">
  
  
    <a href="#user-corrections" class="anchor-heading" aria-labelledby="user-corrections"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> User Corrections
  
  
</h1>
    
<p>The toolbox allows the user to override the previously described filters by forcing the acceptance or rejection of raw data samples, regardless of the filer and threshold violation. It is advisable to first determine the optimal automatic filtering settings for all files, then to review, and, if necessary, correct the filtering algorithm.</p>

<p>The Pupil Diameter module includes a popup window for visualizing the filter thresholds and intermediate steps, see <a href="#filters-1">Figure</a>. To show, click the <strong>Show Filters</strong> button in the PhysioAnalyzer Viewer. The information in this window can be used to review the efficacy of the filter settings on the current data.</p>

<!---
    Images include for nice images in the PDT Doc.
-->

<!-- Left and right padding for image:
 - Allow users to set a left indent parameter,
   which overrides the image's tendency to center.
-->

<!-- The image path:
-->

<!-- The image number counter:
-->

<!-- Determine the ID: 
-->

<!-- Add fancy img-aware drop-shadow:
        https://stackoverflow.com/questions/3186688/drop-shadow-for-png-image-in-css
-->

<!-- Make figure:
        Use table for formatting, see:
        https://stackoverflow.com/a/11652170 
-->
<figure class="" style="
        padding: 0px;
        padding-left: 26px;
        padding-right: 26px;
         margin: auto; 
        margin-bottom: 24px;
        margin-top: 38px;
        display: table;
        
        ">

    <!-- Add an image with a link to the image source: -->
    <!-- <a href="
https://physiodatatoolbox.leidenuniv.nl/docs/archive/v0.6.3/assets/images/user-guide/physioanalyzers/pupil-module-filters-1.png
 " title="Pupil diameter analyzer filters"> -->
    <img class="pdtImg" id="filters-1" src="
https://physiodatatoolbox.leidenuniv.nl/docs/archive/v0.6.3/assets/images/user-guide/physioanalyzers/pupil-module-filters-1.png
 " alt="Pupil diameter analyzer filters" style="
            
            display: block;
            -webkit-filter: drop-shadow(1px 1px 3px #222);filter: drop-shadow(1px 1px 3px #222);;
            " />
    <!-- </a> -->
    <!-- Add caption, with a "Figure X:" prefix that
        has a link to the figure anchor.
        Format the caption as one font size smaller than the body.-->
    
    <figcaption class="fs-3" style="
            line-height: 1.5;
                padding: 0px;
                 padding-top: 16px; 
                padding-left: 26px;
                padding-right: 26px;
                padding-bottom: 20px;
                text-align: justify;
                display: table-caption;
                caption-side: bottom;">
        <a href="#filters-1">Figure 2</a>:
        The Pupil Diameter module's filter visualization window.
    </figcaption>
    
</figure>

<!---
    Add lightbox popup code:
-->

<script>


    // Get the modal
    var modal = document.getElementById("myModal");

    // Get the image and insert it inside the modal - use its "alt" text as a caption
    var img = document.getElementById("filters-1");
    var modalImg = document.getElementById("img01");
    var captionText = document.getElementById("caption");
    img.onclick = function () {
        modal.style.display = "block";
        modalImg.src = this.src;
        captionText.innerHTML = "The Pupil Diameter module's filter visualization window.";
        modalImg.style.cssText =  "-webkit-filter: drop-shadow(1px 1px 3px #222);filter: drop-shadow(1px 1px 3px #222);";

        // Disable the scrollbar on the overlying body:
        document.body.style.overflow = 'hidden';
    }

    // Get the <span> element that closes the modal
    var span = document.getElementsByClassName("close")[0];

    // When the user clicks on <span> (x), close the modal
    span.onclick = function () {
        modal.style.display = "none";
    }

</script>

<p>As described at the start of this section, the user can overrule the automatic sample rejection algorithm. This can be done by selecting a time section of the data by right-clicking and dragging inside the graph, then selecting one of the following actions, per eye:</p>

<ul>
  <li>
    <p><strong>Keep as is:</strong><br />
 Nothing is changed for the corresponding eye.</p>
  </li>
  <li>
    <p><strong>Force acceptance of samples in selected range:</strong><br />
 Force that the module uses the raw samples inside the selected range, for the given eye.</p>
  </li>
  <li>
    <p><strong>Force rejection of samples in selected range:</strong><br />
 Force that the module discards the raw samples inside the selected range, for the given eye.</p>
  </li>
  <li>
    <p><strong>Remove user overrides in selected range:</strong><br />
 Remove any force-accept or force-reject zones inside the selected range, for the given eye.</p>
  </li>
</ul>

<p>The filter settings and data correction approach are the responsibility of the researcher, and are currently out of the scope of this document.</p>

<p>The module automatically ensures that a force-accept zone and a force-reject zone do not overlap for a given eye. As such, adding one zone where the other exists removes the overlap from the pre-existing zone. As with other modules, the user correction graphs are light green when no zones are present.</p>

<p><a href="#correction-1">Figure 3</a> shows a section of pupil diameter data obtained using a Tobii Glasses II eye-tracker. It is noticeable that the system had trouble detecting the right pupil diameter between 524 and 562 seconds, resulting in a cloud of erroneous samples, which is in stark contrast to the smooth and coherent pupil diameter signals seen in the rest of the recording.</p>

<p>Due to the nature of the noise and the filter settings used, the erroneous right-pupil samples were not rejected by the raw data filters. Consequently, the <strong>mean pupil diameter signal</strong> was distorted by the contribution of the incorrect right-pupil filtered signal, which was generated by interpolating the erroneous right-pupil samples.</p>

<p>To remedy this, the user can insert a force-reject zone for the right-pupil samples covering the noisy section. This will prevent the toolbox from using any right-pupil samples within that zone. Additionally, given that the section exceeds the maximum interpolation distance, the toolbox will not generate the interpolated smooth signal for that section, for the right pupil diameter. As a result, the mean pupil diameter signal in the force-reject section will be generated solely from the left pupil data, which contains far less noise. See figures below.</p>

<p>Similarly, in cases where the filter rejected valid samples, and the issue cannot be easily corrected by tweaking the settings, the user can force the acceptance of rejected samples by inserting a force-accept zone.</p>

<!---
    Images include for nice images in the PDT Doc.
-->

<!-- Left and right padding for image:
 - Allow users to set a left indent parameter,
   which overrides the image's tendency to center.
-->

<!-- The image path:
-->

<!-- The image number counter:
-->

<!-- Determine the ID: 
-->

<!-- Add fancy img-aware drop-shadow:
        https://stackoverflow.com/questions/3186688/drop-shadow-for-png-image-in-css
-->

<!-- Make figure:
        Use table for formatting, see:
        https://stackoverflow.com/a/11652170 
-->
<figure class="" style="
        padding: 0px;
        padding-left: 26px;
        padding-right: 26px;
         margin: auto; 
        margin-bottom: 24px;
        margin-top: 38px;
        display: table;
        
        ">

    <!-- Add an image with a link to the image source: -->
    <!-- <a href="
https://physiodatatoolbox.leidenuniv.nl/docs/archive/v0.6.3/assets/images/user-guide/physioanalyzers/pupil-module-correction-1.png
 " title="Pupil size correction 1"> -->
    <img class="pdtImg" id="correction-1" src="
https://physiodatatoolbox.leidenuniv.nl/docs/archive/v0.6.3/assets/images/user-guide/physioanalyzers/pupil-module-correction-1.png
 " alt="Pupil size correction 1" style="
            
            display: block;
            -webkit-filter: drop-shadow(1px 1px 3px #222);filter: drop-shadow(1px 1px 3px #222);;
            " />
    <!-- </a> -->
    <!-- Add caption, with a "Figure X:" prefix that
        has a link to the figure anchor.
        Format the caption as one font size smaller than the body.-->
    
    <figcaption class="fs-3" style="
            line-height: 1.5;
                padding: 0px;
                 padding-top: 16px; 
                padding-left: 26px;
                padding-right: 26px;
                padding-bottom: 20px;
                text-align: justify;
                display: table-caption;
                caption-side: bottom;">
        <a href="#correction-1">Figure 3</a>:
        A Pupil diameter dataset showing measurement artifacts in the right pupil diameter samples. To correct this, the user can complement the raw data filter by manually rejecting the erroneous samples.
    </figcaption>
    
</figure>

<!---
    Add lightbox popup code:
-->

<script>


    // Get the modal
    var modal = document.getElementById("myModal");

    // Get the image and insert it inside the modal - use its "alt" text as a caption
    var img = document.getElementById("correction-1");
    var modalImg = document.getElementById("img01");
    var captionText = document.getElementById("caption");
    img.onclick = function () {
        modal.style.display = "block";
        modalImg.src = this.src;
        captionText.innerHTML = "A Pupil diameter dataset showing measurement artifacts in the right pupil diameter samples. To correct this, the user can complement the raw data filter by manually rejecting the erroneous samples.";
        modalImg.style.cssText =  "-webkit-filter: drop-shadow(1px 1px 3px #222);filter: drop-shadow(1px 1px 3px #222);";

        // Disable the scrollbar on the overlying body:
        document.body.style.overflow = 'hidden';
    }

    // Get the <span> element that closes the modal
    var span = document.getElementsByClassName("close")[0];

    // When the user clicks on <span> (x), close the modal
    span.onclick = function () {
        modal.style.display = "none";
    }

</script>

<!---
    Images include for nice images in the PDT Doc.
-->

<!-- Left and right padding for image:
 - Allow users to set a left indent parameter,
   which overrides the image's tendency to center.
-->

<!-- The image path:
-->

<!-- The image number counter:
-->

<!-- Determine the ID: 
-->

<!-- Add fancy img-aware drop-shadow:
        https://stackoverflow.com/questions/3186688/drop-shadow-for-png-image-in-css
-->

<!-- Make figure:
        Use table for formatting, see:
        https://stackoverflow.com/a/11652170 
-->
<figure class="" style="
        padding: 0px;
        padding-left: 26px;
        padding-right: 26px;
         margin: auto; 
        margin-bottom: 24px;
        margin-top: 38px;
        display: table;
        
        ">

    <!-- Add an image with a link to the image source: -->
    <!-- <a href="
https://physiodatatoolbox.leidenuniv.nl/docs/archive/v0.6.3/assets/images/user-guide/physioanalyzers/pupil-module-correction-2.png
 " title="Pupil size correction 2"> -->
    <img class="pdtImg" id="correction-2" src="
https://physiodatatoolbox.leidenuniv.nl/docs/archive/v0.6.3/assets/images/user-guide/physioanalyzers/pupil-module-correction-2.png
 " alt="Pupil size correction 2" style="
            
            display: block;
            -webkit-filter: drop-shadow(1px 1px 3px #222);filter: drop-shadow(1px 1px 3px #222);;
            " />
    <!-- </a> -->
    <!-- Add caption, with a "Figure X:" prefix that
        has a link to the figure anchor.
        Format the caption as one font size smaller than the body.-->
    
    <figcaption class="fs-3" style="
            line-height: 1.5;
                padding: 0px;
                 padding-top: 16px; 
                padding-left: 26px;
                padding-right: 26px;
                padding-bottom: 20px;
                text-align: justify;
                display: table-caption;
                caption-side: bottom;">
        <a href="#correction-2">Figure 4</a>:
        Inserting a rejection zone. The desired section is selected by left-clicking in the pupil diameter graph and dragging the highlighted section while holding down the mouse button. Once the desired section has been selected, releasing the mouse button opens a popup menu with several correction options.
    </figcaption>
    
</figure>

<!---
    Add lightbox popup code:
-->

<script>


    // Get the modal
    var modal = document.getElementById("myModal");

    // Get the image and insert it inside the modal - use its "alt" text as a caption
    var img = document.getElementById("correction-2");
    var modalImg = document.getElementById("img01");
    var captionText = document.getElementById("caption");
    img.onclick = function () {
        modal.style.display = "block";
        modalImg.src = this.src;
        captionText.innerHTML = "Inserting a rejection zone. The desired section is selected by left-clicking in the pupil diameter graph and dragging the highlighted section while holding down the mouse button. Once the desired section has been selected, releasing the mouse button opens a popup menu with several correction options.";
        modalImg.style.cssText =  "-webkit-filter: drop-shadow(1px 1px 3px #222);filter: drop-shadow(1px 1px 3px #222);";

        // Disable the scrollbar on the overlying body:
        document.body.style.overflow = 'hidden';
    }

    // Get the <span> element that closes the modal
    var span = document.getElementsByClassName("close")[0];

    // When the user clicks on <span> (x), close the modal
    span.onclick = function () {
        modal.style.display = "none";
    }

</script>

<!---
    Images include for nice images in the PDT Doc.
-->

<!-- Left and right padding for image:
 - Allow users to set a left indent parameter,
   which overrides the image's tendency to center.
-->

<!-- The image path:
-->

<!-- The image number counter:
-->

<!-- Determine the ID: 
-->

<!-- Add fancy img-aware drop-shadow:
        https://stackoverflow.com/questions/3186688/drop-shadow-for-png-image-in-css
-->

<!-- Make figure:
        Use table for formatting, see:
        https://stackoverflow.com/a/11652170 
-->
<figure class="" style="
        padding: 0px;
        padding-left: 26px;
        padding-right: 26px;
         margin: auto; 
        margin-bottom: 24px;
        margin-top: 38px;
        display: table;
        
        ">

    <!-- Add an image with a link to the image source: -->
    <!-- <a href="
https://physiodatatoolbox.leidenuniv.nl/docs/archive/v0.6.3/assets/images/user-guide/physioanalyzers/pupil-module-correction-3.png
 " title="Pupil size correction 3"> -->
    <img class="pdtImg" id="correction-3" src="
https://physiodatatoolbox.leidenuniv.nl/docs/archive/v0.6.3/assets/images/user-guide/physioanalyzers/pupil-module-correction-3.png
 " alt="Pupil size correction 3" style="
            
            display: block;
            -webkit-filter: drop-shadow(1px 1px 3px #222);filter: drop-shadow(1px 1px 3px #222);;
            " />
    <!-- </a> -->
    <!-- Add caption, with a "Figure X:" prefix that
        has a link to the figure anchor.
        Format the caption as one font size smaller than the body.-->
    
    <figcaption class="fs-3" style="
            line-height: 1.5;
                padding: 0px;
                 padding-top: 16px; 
                padding-left: 26px;
                padding-right: 26px;
                padding-bottom: 20px;
                text-align: justify;
                display: table-caption;
                caption-side: bottom;">
        <a href="#correction-3">Figure 5</a>:
        Force reject samples. In the current example, the 'Force rejection' option is chosen for the right eye to manually remove the erroneous samples.
    </figcaption>
    
</figure>

<!---
    Add lightbox popup code:
-->

<script>


    // Get the modal
    var modal = document.getElementById("myModal");

    // Get the image and insert it inside the modal - use its "alt" text as a caption
    var img = document.getElementById("correction-3");
    var modalImg = document.getElementById("img01");
    var captionText = document.getElementById("caption");
    img.onclick = function () {
        modal.style.display = "block";
        modalImg.src = this.src;
        captionText.innerHTML = "Force reject samples. In the current example, the 'Force rejection' option is chosen for the right eye to manually remove the erroneous samples.";
        modalImg.style.cssText =  "-webkit-filter: drop-shadow(1px 1px 3px #222);filter: drop-shadow(1px 1px 3px #222);";

        // Disable the scrollbar on the overlying body:
        document.body.style.overflow = 'hidden';
    }

    // Get the <span> element that closes the modal
    var span = document.getElementsByClassName("close")[0];

    // When the user clicks on <span> (x), close the modal
    span.onclick = function () {
        modal.style.display = "none";
    }

</script>

<p><!---
    Images include for nice images in the PDT Doc.
--></p>

<!-- Left and right padding for image:
 - Allow users to set a left indent parameter,
   which overrides the image's tendency to center.
-->

<!-- The image path:
-->

<!-- The image number counter:
-->

<!-- Determine the ID: 
-->

<!-- Add fancy img-aware drop-shadow:
        https://stackoverflow.com/questions/3186688/drop-shadow-for-png-image-in-css
-->

<!-- Make figure:
        Use table for formatting, see:
        https://stackoverflow.com/a/11652170 
-->
<figure class="" style="
        padding: 0px;
        padding-left: 26px;
        padding-right: 26px;
         margin: auto; 
        margin-bottom: 24px;
        margin-top: 38px;
        display: table;
        
        ">

    <!-- Add an image with a link to the image source: -->
    <!-- <a href="
https://physiodatatoolbox.leidenuniv.nl/docs/archive/v0.6.3/assets/images/user-guide/physioanalyzers/pupil-module-correction-4.png
 " title="Pupil size correction 4"> -->
    <img class="pdtImg" id="correction-4" src="
https://physiodatatoolbox.leidenuniv.nl/docs/archive/v0.6.3/assets/images/user-guide/physioanalyzers/pupil-module-correction-4.png
 " alt="Pupil size correction 4" style="
            
            display: block;
            -webkit-filter: drop-shadow(1px 1px 3px #222);filter: drop-shadow(1px 1px 3px #222);;
            " />
    <!-- </a> -->
    <!-- Add caption, with a "Figure X:" prefix that
        has a link to the figure anchor.
        Format the caption as one font size smaller than the body.-->
    
    <figcaption class="fs-3" style="
            line-height: 1.5;
                padding: 0px;
                 padding-top: 16px; 
                padding-left: 26px;
                padding-right: 26px;
                padding-bottom: 20px;
                text-align: justify;
                display: table-caption;
                caption-side: bottom;">
        <a href="#correction-4">Figure 6</a>:
        Once a 'force-reject' zone has been inserted, no raw samples for the eye it was defined for are used. In this case, the erroneous contribution of the noisy right pupil samples is removed, leaving a smooth 'mean pupil diameter' signal generated solely from the left pupil data (in the force-reject zone).
    </figcaption>
    
</figure>

<!---
    Add lightbox popup code:
-->

<script>


    // Get the modal
    var modal = document.getElementById("myModal");

    // Get the image and insert it inside the modal - use its "alt" text as a caption
    var img = document.getElementById("correction-4");
    var modalImg = document.getElementById("img01");
    var captionText = document.getElementById("caption");
    img.onclick = function () {
        modal.style.display = "block";
        modalImg.src = this.src;
        captionText.innerHTML = "Once a 'force-reject' zone has been inserted, no raw samples for the eye it was defined for are used. In this case, the erroneous contribution of the noisy right pupil samples is removed, leaving a smooth 'mean pupil diameter' signal generated solely from the left pupil data (in the force-reject zone).";
        modalImg.style.cssText =  "-webkit-filter: drop-shadow(1px 1px 3px #222);filter: drop-shadow(1px 1px 3px #222);";

        // Disable the scrollbar on the overlying body:
        document.body.style.overflow = 'hidden';
    }

    // Get the <span> element that closes the modal
    var span = document.getElementsByClassName("close")[0];

    // When the user clicks on <span> (x), close the modal
    span.onclick = function () {
        modal.style.display = "none";
    }

</script>

<!-- TODO: Consider maybe converting the above to an animation. -->
<h2 id="fast-mode">
  
  
    <a href="#fast-mode" class="anchor-heading" aria-labelledby="fast-mode"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Fast-Mode
  
  
</h2>
    
<p>This module features a special variation of the “fast-mode” correction feature, which can be enable thought the Menu button of the PhysioAnalyzer Viewer (<a href="..\data-viewers.html#fast-mode">more info</a>). When Fast-Mode is enabled: left-to-right selections add Force-Reject zones, while right-to-left selections clear both Force-Reject and Force-Accept zones.</p>
<h3 id="eye-selection">
  
  
    <a href="#eye-selection" class="anchor-heading" aria-labelledby="eye-selection"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Eye Selection
  
  
</h3>
    
<p>By default, the Fast-Mode applies the zone-actions to all available eyes. To select a specific eye:</p>
<ul>
  <li>
    <p><strong>To only affect the left-eye:</strong><br />
 Hold down <strong>Z</strong> while selecting the zone; or, hide the right-eye’s raw samples by clicking it in the legend.</p>
  </li>
  <li>
    <p><strong>To only affect the right-eye:</strong><br />
  Hold down <strong>X</strong> while selecting the zone; or, hide the left-eye’s raw samples by clicking it in the legend.</p>
  </li>
</ul>
<h3 id="zone-type-selection">
  
  
    <a href="#zone-type-selection" class="anchor-heading" aria-labelledby="zone-type-selection"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Zone-Type Selection
  
  
</h3>
    
<p>By default, the Fast-Mode creates a <strong>Force-Reject</strong> zone. To create a <strong>Force-Accept</strong> zone, hold down <strong>C</strong> while selecting the zone. This can be done in combination with the Z and X keys to insert a Force-Accept zone for a specific eye.</p>

<!-- TODO: Add fast-mode animation. --><hr />
<h1 id="processing-and-analysis-pipeline">
  
  
    <a href="#processing-and-analysis-pipeline" class="anchor-heading" aria-labelledby="processing-and-analysis-pipeline"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Processing and Analysis Pipeline
  
  
</h1>
    
<p>The toolbox features a robust and customizable preprocessing pipeline, which can be broken down into two steps: (1) filtering the raw data to extract the subset of valid samples; and, (2) upsampling and smoothing the valid samples. Before the filtering commences, the raw data can be multiplied by a constant value, the <a href="#settings">gain</a>.</p>
<h2 id="step-1-filtering-the-raw-data">
  
  
    <a href="#step-1-filtering-the-raw-data" class="anchor-heading" aria-labelledby="step-1-filtering-the-raw-data"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Step 1: Filtering the Raw Data
  
  
</h2>
    
<p>Raw eye-tracking data often contain samples that are purely the result of noise or artifacts, and therefore carry no useful information for pupil size analysis. Identifying and removing these samples, however, is not a trivial task. This filtering pipeline is aimed at identifying three types of often occurring invalid pupil size samples: (1) dilation speed outliers and edge artifacts; (2) trend-line deviation outliers; and (3), temporally isolated samples.</p>

<p>In addition, pupil size samples that are simply outside of a predefined feasible range can be rejected via the user specified <a href="#settings">minimum and maximum accepted values</a>.</p>

<!---
    Images include for nice images in the PDT Doc.
-->

<!-- Left and right padding for image:
 - Allow users to set a left indent parameter,
   which overrides the image's tendency to center.
-->

<!-- The image path:
-->

<!-- The image number counter:
-->

<!-- Determine the ID: 
-->

<!-- Add fancy img-aware drop-shadow:
        https://stackoverflow.com/questions/3186688/drop-shadow-for-png-image-in-css
-->

<!-- Make figure:
        Use table for formatting, see:
        https://stackoverflow.com/a/11652170 
-->
<figure class="" style="
        padding: 0px;
        padding-left: 26px;
        padding-right: 26px;
         margin: auto; 
        margin-bottom: 24px;
        margin-top: 38px;
        display: table;
        
        ">

    <!-- Add an image with a link to the image source: -->
    <!-- <a href="
https://physiodatatoolbox.leidenuniv.nl/docs/archive/v0.6.3/assets/images/user-guide/physioanalyzers/pupil-module-artifacts.png
 " title="Pupil Diameter Analyzer"> -->
    <img class="pdtImg" id="artifacts" src="
https://physiodatatoolbox.leidenuniv.nl/docs/archive/v0.6.3/assets/images/user-guide/physioanalyzers/pupil-module-artifacts.png
 " alt="Pupil Diameter Analyzer" style="
            
            display: block;
            ;
            " />
    <!-- </a> -->
    <!-- Add caption, with a "Figure X:" prefix that
        has a link to the figure anchor.
        Format the caption as one font size smaller than the body.-->
    
    <figcaption class="fs-3" style="
            line-height: 1.5;
                padding: 0px;
                 padding-top: 10px; 
                padding-left: 26px;
                padding-right: 26px;
                padding-bottom: 20px;
                text-align: justify;
                display: table-caption;
                caption-side: bottom;">
        <a href="#artifacts">Figure 7</a>:
        Raw pupil diameter data showing the different kinds of artifacts that are targeted by the raw data filter presented in this paper. The invalid samples targeted for rejection are shown circled. A. Certain artifacts, especially those caused by blinks, are characterized by large inter-sample changes in pupil size; i.e., disproportionately large dilation speeds, as visualized by the arrows. Additionally, the edges of eye-blink gaps may show slopes caused by the onset of eyelid occlusion. B. Outlying clusters of erroneous data-points can be identified by their abnormally large deviation from a smooth trend-line (solid black line). C. Small islands of spurious samples can be identified by their temporal isolation from other samples, as visualized by the horizontal arrows.
    </figcaption>
    
</figure>

<!---
    Add lightbox popup code:
-->

<script>


    // Get the modal
    var modal = document.getElementById("myModal");

    // Get the image and insert it inside the modal - use its "alt" text as a caption
    var img = document.getElementById("artifacts");
    var modalImg = document.getElementById("img01");
    var captionText = document.getElementById("caption");
    img.onclick = function () {
        modal.style.display = "block";
        modalImg.src = this.src;
        captionText.innerHTML = "Raw pupil diameter data showing the different kinds of artifacts that are targeted by the raw data filter presented in this paper. The invalid samples targeted for rejection are shown circled. A. Certain artifacts, especially those caused by blinks, are characterized by large inter-sample changes in pupil size; i.e., disproportionately large dilation speeds, as visualized by the arrows. Additionally, the edges of eye-blink gaps may show slopes caused by the onset of eyelid occlusion. B. Outlying clusters of erroneous data-points can be identified by their abnormally large deviation from a smooth trend-line (solid black line). C. Small islands of spurious samples can be identified by their temporal isolation from other samples, as visualized by the horizontal arrows.";
        modalImg.style.cssText =  "";

        // Disable the scrollbar on the overlying body:
        document.body.style.overflow = 'hidden';
    }

    // Get the <span> element that closes the modal
    var span = document.getElementsByClassName("close")[0];

    // When the user clicks on <span> (x), close the modal
    span.onclick = function () {
        modal.style.display = "none";
    }

</script>

<p> </p>
<h3 id="removing-dilation-speed-outliers-and-edge-artifacts">
  
  
    <a href="#removing-dilation-speed-outliers-and-edge-artifacts" class="anchor-heading" aria-labelledby="removing-dilation-speed-outliers-and-edge-artifacts"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Removing Dilation-Speed Outliers and Edge-Artifacts
  
  
</h3>
    
<p>Dilation speed outliers are samples that feature a disproportionately large absolute pupil size change relative to their adjacent samples. Because the changes between samples due to actual pupil dilation and constriction are generally less than those resulting from artifacts, such as system errors or blinks, detecting outliers in these changes is an effective way of spotting and rejecting invalid samples.</p>

<p>To detect dilation speed outliers, the <strong>Median Absolute Deviation (MAD)</strong>, which is a robust and outlier resilient data dispersion metric, is calculated from the dilation speed series, multiplied by a constant (n), and summed with the median dilation speed. Samples with dilation speeds above the threshold can now be marked as outliers and rejected.</p>

<p>Dilation speed filter settings:</p>

<ul>
  <li>
    <p><strong>Speed-filter MAD threshold [-]:</strong> 
 The number (n) of MADs used as a threshold to reject outliers.</p>
  </li>
  <li>
    <p><strong>Absolute speed-filter threshold [mm/ms]:</strong><br />
 Any samples with dilation speeds above this value are rejected. This criteria can be used if the rejection should occur according to some metric other than MADs, such as standard deviation. The absolute threshold, such as the standard deviation of the dilation speeds of all pupil diameter samples inside epochs, can be calculated using a custom MATLAB script.</p>
  </li>
</ul>

<p>After the dilation speed outliers have been removed, artifacts around gaps in the data may still remain, especially if these gaps are the result of eye blinks, which may cause pupil size underestimation due to eye-lid occlusion. Therefore, it is sensible to reject the samples that border certain gaps in the data. In order to identify ‘gaps’, the toolbox looks for sections of missing samples with durations within a specifiable range: the gap lower and upper bounds. Once these gaps have been found, samples that form its leading and trailing edges are removed.</p>

<p>Gap detections and edge-artifact removal settings:</p>

<ul>
  <li>
    <p><strong>Gap lower-bounds [ms]:</strong><br />
 The minimum duration a gap needs to have to be classified as such.</p>
  </li>
  <li>
    <p><strong>Gap upper-bounds [ms]:</strong><br />
 The maximum duration a gap may have in order to still be classified as such.</p>
  </li>
  <li>
    <p><strong>Backward gap-padding [ms]:</strong><br />
 The duration of the section before the start of the gap in which samples are rejected.</p>
  </li>
  <li>
    <p><strong>Forward gap-padding [ms]:</strong><br />
 The duration of the section after the end of the gap in which samples are rejected.</p>
  </li>
</ul>
<h3 id="removing-trend-line-outliers">
  
  
    <a href="#removing-trend-line-outliers" class="anchor-heading" aria-labelledby="removing-trend-line-outliers"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Removing Trend-line Outliers
  
  
</h3>
    
<p>Certain eye-trackers, especially those with higher sampling rates, may produce small groups of clearly invalid samples which, since they are clustered together, are resistant to dilation speed filtering. Instead, these invalid samples can be identified by their strong departure from the signal’s trend-line, which can be generated by interpolating and smoothing the data that remain after the previous filtering steps.</p>

<p>Outliers in absolute trend-line deviations can then be identified and rejected in a similar manner to dilation speed outliers by feeding the absolute trend-line deviations into the MAD filter. Subsequently, a new trend-line can be generated using the now remaining samples, and the outlier detection process repeated on all samples considered in the first deviation filter pass. This multi-pass approach allows for the reintroduction of valid samples that were previously rejected due to the invalid samples ‘pulling away’ the trend-line.</p>

<p>These trend-line outliers can be removed in the toolbox using the <strong>Residuals filter</strong>, which features the following settings:</p>

<ul>
  <li>
    <p><strong>Residuals-filter passes [-]:</strong><br />
 The number of passes that the filter will make.</p>
  </li>
  <li>
    <p><strong>Residuals-filter MAD threshold [ms]:</strong><br />
 The MAD multiplier; i.e., the number of MADs to use as the rejection threshold.</p>
  </li>
  <li>
    <p><strong>Residuals filter low-pass filter [ms]:</strong><br />
The cutoff frequency of the low-pass filter used to generate the smooth trend-line from the non-rejected samples.</p>
  </li>
</ul>
<h3 id="removing-isolated-and-sparse-samples">
  
  
    <a href="#removing-isolated-and-sparse-samples" class="anchor-heading" aria-labelledby="removing-isolated-and-sparse-samples"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Removing Isolated and Sparse Samples
  
  
</h3>
    
<p>Another feature of raw pupil size samples that may indicate invalidity is their sparsity. Since a proper pupil size signal is fairly solid, with continuous gaps during blinks and look-away moments, secluded samples are likely to be the result of noise or a momentary eye-tracker glitch, such as erroneous pupil detection during shut eyes.</p>

<p>The toolbox can look for these <strong>sample-islands</strong>, which are clusters of samples that are temporally separated from other samples, and reject them. The sparsity filter includes the following settings:</p>

<ul>
  <li>
    <p><strong>Island isolation criteria [ms]:</strong><br />
 The minimum distance used to consider samples ‘separated’. The toolbox scans raw non-missing pupil diameter samples for gaps greater than this distance, and identifies the sample-island clusters—upon which the criterion below is applied.</p>
  </li>
  <li>
    <p><strong>Minimum allowable island size [ms]:</strong><br />
 Once islands have been identified, those smaller than the minimum allowable size are removed.</p>
  </li>
</ul>
<h2 id="step-2-processing-the-valid-samples">
  
  
    <a href="#step-2-processing-the-valid-samples" class="anchor-heading" aria-labelledby="step-2-processing-the-valid-samples"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Step 2: Processing the Valid Samples
  
  
</h2>
    
<p>At this point, depending on whether monocular or binocular data was collected, one or two valid subsets of the original raw samples remain. If data from both eyes are available, the toolbox uses them to generate a third time-series: the <strong>mean pupil size signal</strong>. When doing so for the time-points where one pupil’s data is missing, the dynamic offset between the sizes of the two pupils is taken into account.</p>

<p>To increase the temporal resolution and smoothness of the data, the data-points are interpolated at 1000 Hz, then low-pass filtered at the specified cutoff frequency. Subsequently, the toolbox can set sections that were interpolated over unacceptably large gaps to ‘missing’. 
Valid samples processing settings:</p>

<ul>
  <li>
    <p><strong>Smoothing low-pass filter frequency [Hz]:</strong><br />
 The cutoff frequency of the low-pass smoothing filter applied to the interpolated signals generated from the valid samples (the samples that were not rejected). The recommended cutoff frequency is 4 Hz .</p>
  </li>
  <li>
    <p><strong>Maximum interpolation gap [ms]:</strong><br />
The maximum allowable interpolation gap. Sections that were generated by interpolating over gaps larger than this criterion are set to missing, and not used in the analysis.</p>
  </li>
</ul>

<!---
    Images include for nice images in the PDT Doc.
-->

<!-- Left and right padding for image:
 - Allow users to set a left indent parameter,
   which overrides the image's tendency to center.
-->

<!-- The image path:
-->

<!-- The image number counter:
-->

<!-- Determine the ID: 
-->

<!-- Add fancy img-aware drop-shadow:
        https://stackoverflow.com/questions/3186688/drop-shadow-for-png-image-in-css
-->

<!-- Make figure:
        Use table for formatting, see:
        https://stackoverflow.com/a/11652170 
-->
<figure class="" style="
        padding: 0px;
        padding-left: 26px;
        padding-right: 26px;
         margin: auto; 
        margin-bottom: 24px;
        margin-top: 38px;
        display: table;
        
        ">

    <!-- Add an image with a link to the image source: -->
    <!-- <a href="
https://physiodatatoolbox.leidenuniv.nl/docs/archive/v0.6.3/assets/images/user-guide/physioanalyzers/pupil-module-preprocessing-1.png
 " title="Pupil diameter preprocessing results"> -->
    <img class="pdtImg" id="preprocessing-1" src="
https://physiodatatoolbox.leidenuniv.nl/docs/archive/v0.6.3/assets/images/user-guide/physioanalyzers/pupil-module-preprocessing-1.png
 " alt="Pupil diameter preprocessing results" style="
            
            display: block;
            ;
            " />
    <!-- </a> -->
    <!-- Add caption, with a "Figure X:" prefix that
        has a link to the figure anchor.
        Format the caption as one font size smaller than the body.-->
    
    <figcaption class="fs-3" style="
            line-height: 1.5;
                padding: 0px;
                 padding-top: 10px; 
                padding-left: 26px;
                padding-right: 26px;
                padding-bottom: 20px;
                text-align: justify;
                display: table-caption;
                caption-side: bottom;">
        <a href="#preprocessing-1">Figure 8</a>:
        A non-toolbox plot showing the result of the preprocessing pipeline. Shown are: the raw pupil diameter samples of the right and left eyes (blue and red dots, respectively), and the interpolated and low pass filtered 'mean pupil diameter' signal (green line). The mean pupil diameter signal was generated from the valid raw samples of both pupils, including during the absence of one pupil's data, in which case the local pupil size difference was estimated and used to generate the 'mean pupil size' value (as can be seen at 0.6 seconds). The settings used stipulated that signals were not to be interpolated over gaps larger than 250 ms, hence the missing data around 3.3 seconds.
    </figcaption>
    
</figure>

<!---
    Add lightbox popup code:
-->

<script>


    // Get the modal
    var modal = document.getElementById("myModal");

    // Get the image and insert it inside the modal - use its "alt" text as a caption
    var img = document.getElementById("preprocessing-1");
    var modalImg = document.getElementById("img01");
    var captionText = document.getElementById("caption");
    img.onclick = function () {
        modal.style.display = "block";
        modalImg.src = this.src;
        captionText.innerHTML = "A non-toolbox plot showing the result of the preprocessing pipeline. Shown are: the raw pupil diameter samples of the right and left eyes (blue and red dots, respectively), and the interpolated and low pass filtered 'mean pupil diameter' signal (green line). The mean pupil diameter signal was generated from the valid raw samples of both pupils, including during the absence of one pupil's data, in which case the local pupil size difference was estimated and used to generate the 'mean pupil size' value (as can be seen at 0.6 seconds). The settings used stipulated that signals were not to be interpolated over gaps larger than 250 ms, hence the missing data around 3.3 seconds.";
        modalImg.style.cssText =  "";

        // Disable the scrollbar on the overlying body:
        document.body.style.overflow = 'hidden';
    }

    // Get the <span> element that closes the modal
    var span = document.getElementsByClassName("close")[0];

    // When the user clicks on <span> (x), close the modal
    span.onclick = function () {
        modal.style.display = "none";
    }

</script><hr />
<h1 id="settings">
  
  
    <a href="#settings" class="anchor-heading" aria-labelledby="settings"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Settings
  
  
</h1>
    
<p>The Pupil diameter analyzer assumes that the unit of the pupils size time series is <strong>mm</strong>. If this is not the case, fill in an appropriate gain value (multiplier) to transform the raw data into mm. If this is not possible–e.g. when using an eye-tracker that reports pixels (e.g. EyeLink), or when measuring the pupil area–the Toolbox will still report the results as mm.</p>

<!-- TODO: Add data about diameter vs area, and how to transform eye-link px data into mm -->

<p>The auto-generated list below shows the settings available in the Pupil Diameter Analyzer module:</p>

<ul>
  <li>
    <p><strong>General Settings:</strong><br />
 Name, source and epoch settings for this PhysioAnalyzer.</p>

    <ul>
      <li>
        <p><strong>Analyzer prefix (tag):</strong><br />
 The tag (name) of this PhysioAnalyzer. The tag must be unique and start with a letter, and may only contain alphanumeric characters.</p>
      </li>
      <li>
        <p><strong>Eye-Tracking dataset number:</strong><br />
 The channel number (index) of the signal to be analyzed.</p>
      </li>
      <li>
        <p><strong>Generate epochs from:</strong><br />
 Specifies how epochs are generated.</p>
      </li>
    </ul>

    <p>Tip: you can use infinity (‘inf’ w/o quotes) as a criteria in the settings below.</p>
  </li>
  <li>
    <p><strong>Gain and Pupil Size Restrictions:</strong><br />
 The gain, which is the value that the raw signal is pre-multiplied by, and the minimum and maximum allowable pupil size.</p>

    <ul>
      <li>
        <p><strong>Gain (signal multiplier) [x]:</strong><br />
 The gain is the value with which the raw signal is pre-multiplied.</p>
      </li>
      <li>
        <p><strong>Minimum allowable pupil size [mm]:</strong><br />
 The minimum pupil diameter criteria used to reject raw samples.</p>
      </li>
      <li>
        <p><strong>Maximum allowable pupil size [mm]:</strong><br />
 The maximum pupil diameter criteria used to reject raw samples.</p>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>Isolated Samples Criteria:</strong><br />
 ‘Sample-islands’ are clusters of samples that are temporally separated from other samples. The minimum distance used to consider samples ‘separated’ can be specified here. When clusters are considered separated, they need to have the minimum size specified in here; sample islands smaller than this temporal width and separated from other samples by the distance mentioned above are marked as invalid.</p>

    <ul>
      <li>
        <p><strong>Island isolation criteria [ms]:</strong><br />
 ‘Sample-islands’ are clusters of samples that are temporally separated from other samples. The ‘island isolation criteria’ specifies the minimum distance to another sample a cluster needs to have in order to be considered an island.</p>
      </li>
      <li>
        <p><strong>Minimum allowable island size [ms]:</strong><br />
 When islands are detected, they need to satisfy the minimum allowable size criteria–samples in clusters that don’t, are rejected.</p>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>Dilation Speed Filter Criteria:</strong><br />
 Specify here the number of Median Absolute Deviations (MADs) to  use as the cutoff threshold when applying the speed filter. Usually a value between 4 (aggressive) and 16 (permissive) works well, but this depends on the dataset and Eye-Tracker characteristics. An absolute threshold can also be set manually.</p>

    <ul>
      <li>
        <p><strong>Speed-filter MAD threshold [n]:</strong><br />
 The number of MADs to use as the cutoff threshold when applying the speed-filter.</p>
      </li>
      <li>
        <p><strong>Absolute speed-filter threshold [mm/ms]:</strong><br />
 The absolute threshold of the speed-filter. If enabled, all samples with dilation speeds above the threshold are rejected.</p>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>Edge Removal Filter Criteria:</strong><br />
 Pupil size data may contain artifacts at the edges of ‘gaps’. These artifacts are e.g. caused by the Eye-Tracker reporting the size of a pupil which is still partially occluded by the eyelid during the start or end of a blink. Specify here the duration criteria used to classify missing data as a ‘gap’, then indicate the section right before the start of the gap (the backwards padding distance) and the section right after the gap (the forward padding distance) within which samples are to be rejected.</p>

    <ul>
      <li>
        <p><strong>Gap lower-bounds [ms]:</strong><br />
 The minimum duration a gap needs to have to be classified as such.</p>
      </li>
      <li>
        <p><strong>Gap upper-bounds [ms]:</strong><br />
 The maximum duration a gap needs to have to be classified as such.</p>
      </li>
      <li>
        <p><strong>Backward gap-padding [ms]:</strong><br />
 The duration of the section before the start of a gap in which samples are rejected.</p>
      </li>
      <li>
        <p><strong>Forward gap-padding [ms]:</strong><br />
 The duration of the section after the end of a gap in which samples are rejected.</p>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>Deviation Filter Criteria:</strong><br />
 After passing through the filters described above, a subset of the original pupil size samples remain and form the input for the Deviation Filter. This filter generates a smooth trendline by lowpass filtering the remaining samples, then calculates the deviation of each sample relative to this trendline. Samples featuring a deviation outside of a threshold, which is a multiple of the median, are then removed. This process can be performed in multiple passes.</p>

    <ul>
      <li>
        <p><strong>Residuals-filter low-pass frequency [Hz]:</strong><br />
 The cutoff frequency of the low-pass filter used to smooth the residuals-filter’s trendline.</p>
      </li>
      <li>
        <p><strong>Residuals-filter MAD threshold [n]:</strong><br />
 The number of MADs to use as the cutoff threshold when applying the residuals-filter.</p>
      </li>
      <li>
        <p><strong>Residuals-filter passes [n]:</strong><br />
 The number of passes the residuals-filter makes.</p>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>Smoothing and Interpolation Gaps:</strong><br />
 Finally, the remaining valid samples are interpolated and upsampled to 1000 Hz, then low-pass filtered to create smooth and continuous signals. Optionally, the maximum gap over which interpolation is allowed can be specified.</p>

    <ul>
      <li>
        <p><strong>Smoothing low-pass filter frequency [Hz]:</strong><br />
 The cutoff frequency of the low-pass filter used to smooth the interpolated pupil diameter signal.</p>
      </li>
      <li>
        <p><strong>Maximum interpolation gap [ms]:</strong><br />
 The maximum gap to interpolate over when generating the interpolated signal. Gaps larger than the limit are set to missing.</p>
      </li>
    </ul>
  </li>
</ul><hr />
<h1 id="metrics">
  
  
    <a href="#metrics" class="anchor-heading" aria-labelledby="metrics"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Metrics
  
  
</h1>
    
<p>The auto-generated table belows lists all the metrics produced by the Pupil Diameter Analyzer module.</p>

<!---
    This include generates a table with metrics for a given PhysioAnalyzer module.
-->

<p class="fs-3 mb-1"><a id="metrics" href="#metrics">Table 1</a>:
The metrics calculated by the Pupil Diameter Analyzer module.</p>
<div class="table-wrapper"><table>
  
    
    <tr>
      
        <th>Variable:</th>
      
        <th>Unit:</th>
      
        <th>Description:</th>
      
    </tr>
    

    <tr class="row1">
<td class="col1">
      meanDia_BothEyes
    </td><td class="col2">
      mm
    </td><td class="col3">
      The mean pupil diameter, calculated per epoch from the interpolated and smoothed signal generated from the valid samples of both pupils.
    </td></tr>

  
    

    <tr class="row1">
<td class="col1">
      minDia_BothEyes
    </td><td class="col2">
      mm
    </td><td class="col3">
      The minimum pupil diameter, calculated per epoch from the interpolated and smoothed signal generated from the valid samples of both pupils.
    </td></tr>

  
    

    <tr class="row1">
<td class="col1">
      maxDia_BothEyes
    </td><td class="col2">
      mm
    </td><td class="col3">
      The maximum pupil diameter, calculated per epoch from the interpolated and smoothed signal generated from the valid samples of both pupils.
    </td></tr>

  
    

    <tr class="row1">
<td class="col1">
      signalCoverage_BothEyes
    </td><td class="col2">
      %
    </td><td class="col3">
      The approximate percentage of the epoch in which data from the interpolated signal is available.
    </td></tr>

  
    

    <tr class="row1">
<td class="col1">
      meanDia_LeftEye
    </td><td class="col2">
      mm
    </td><td class="col3">
      The mean pupil diameter, calculated per epoch from the interpolated and smoothed signal generated from the valid samples of the left pupil.
    </td></tr>

  
    

    <tr class="row1">
<td class="col1">
      minDia_LeftEye
    </td><td class="col2">
      mm
    </td><td class="col3">
      The minimum pupil diameter, calculated per epoch from the interpolated and smoothed signal generated from the valid samples of the left pupil.
    </td></tr>

  
    

    <tr class="row1">
<td class="col1">
      maxDia_LeftEye
    </td><td class="col2">
      mm
    </td><td class="col3">
      The maximum pupil diameter, calculated per epoch from the interpolated and smoothed signal generated from the valid samples of the left pupil.
    </td></tr>

  
    

    <tr class="row1">
<td class="col1">
      signalCoverage_LeftEye
    </td><td class="col2">
      %
    </td><td class="col3">
      The approximate percentage of the epoch in which data from the interpolated signal is available.
    </td></tr>

  
    

    <tr class="row1">
<td class="col1">
      meanDia_RightEye
    </td><td class="col2">
      mm
    </td><td class="col3">
      The mean pupil diameter, calculated per epoch from the interpolated and smoothed signal generated from the valid samples of the right pupil.
    </td></tr>

  
    

    <tr class="row1">
<td class="col1">
      minDia_RightEye
    </td><td class="col2">
      mm
    </td><td class="col3">
      The minimum pupil diameter, calculated per epoch from the interpolated and smoothed signal generated from the valid samples of the right pupil.
    </td></tr>

  
    

    <tr class="row1">
<td class="col1">
      maxDia_RightEye
    </td><td class="col2">
      mm
    </td><td class="col3">
      The maximum pupil diameter, calculated per epoch from the interpolated and smoothed signal generated from the valid samples of the right pupil.
    </td></tr>

  
    

    <tr class="row1">
<td class="col1">
      signalCoverage_RightEye
    </td><td class="col2">
      %
    </td><td class="col3">
      The approximate percentage of the epoch in which data from the interpolated signal is available.
    </td></tr>

  
    

    <tr class="row1">
<td class="col1">
      countRawSamples_LeftEye
    </td><td class="col2">
      -
    </td><td class="col3">
      The total number of left eye raw pupil diameter samples inside the epoch. Only Non-NaN samples are counted.
    </td></tr>

  
    

    <tr class="row1">
<td class="col1">
      countRawSamples_RightEye
    </td><td class="col2">
      -
    </td><td class="col3">
      The total number of right eye raw pupil diameter samples inside the epoch. Only Non-NaN samples are counted.
    </td></tr>

  
    

    <tr class="row1">
<td class="col1">
      countValidSamples_LeftEye
    </td><td class="col2">
      -
    </td><td class="col3">
      The count of the valid left eye pupil diameter samples inside the epoch. The 'valid samples' are the samples that were not rejected by the filters or the user, and were used to generate the interpolated signal.
    </td></tr>

  
    

    <tr class="row1">
<td class="col1">
      meanValidSamples_LeftEye
    </td><td class="col2">
      mm
    </td><td class="col3">
      The mean of the valid left eye pupil diameter samples inside the epoch.
    </td></tr>

  
    

    <tr class="row1">
<td class="col1">
      minValidSamples_LeftEye
    </td><td class="col2">
      mm
    </td><td class="col3">
      The minimum of the valid left eye pupil diameter samples inside the epoch.
    </td></tr>

  
    

    <tr class="row1">
<td class="col1">
      maxValidSamples_LeftEye
    </td><td class="col2">
      mm
    </td><td class="col3">
      The maximum of the valid left eye pupil diameter samples inside the epoch.
    </td></tr>

  
    

    <tr class="row1">
<td class="col1">
      stdValidSamples_LeftEye
    </td><td class="col2">
      mm
    </td><td class="col3">
      The standard deviation of the valid left eye pupil diameter samples inside the epoch.
    </td></tr>

  
    

    <tr class="row1">
<td class="col1">
      countValidSamples_RightEye
    </td><td class="col2">
      -
    </td><td class="col3">
      The count of the valid right eye pupil diameter samples inside the epoch. The 'valid samples' are the samples that were not rejected by the filters or the user, and were used to generate the interpolated signal.
    </td></tr>

  
    

    <tr class="row1">
<td class="col1">
      meanValidSamples_RightEye
    </td><td class="col2">
      mm
    </td><td class="col3">
      The mean of the valid right eye pupil diameter samples inside the epoch.
    </td></tr>

  
    

    <tr class="row1">
<td class="col1">
      minValidSamples_RightEye
    </td><td class="col2">
      mm
    </td><td class="col3">
      The minimum of the valid right eye pupil diameter samples inside the epoch.
    </td></tr>

  
    

    <tr class="row1">
<td class="col1">
      maxValidSamples_RightEye
    </td><td class="col2">
      mm
    </td><td class="col3">
      The maximum of the valid right eye pupil diameter samples inside the epoch.
    </td></tr>

  
    

    <tr class="row1">
<td class="col1">
      stdValidSamples_RightEye
    </td><td class="col2">
      mm
    </td><td class="col3">
      The standard deviation of the valid right eye pupil diameter samples inside the epoch.
    </td></tr>

  
</table></div><hr />
<h1 id="resampled-signals">
  
  
    <a href="#resampled-signals" class="anchor-heading" aria-labelledby="resampled-signals"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Resampled Signals
  
  
</h1>
    
<p>When exporting the resampled epoch signals, the Pupil Diameter Analyzer resamples the filtered pupil size signals.</p><hr />
<h1 id="references">
  
  
    <a href="#references" class="anchor-heading" aria-labelledby="references"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> References
  
  
</h1>
    

<div class="footnotes" role="doc-endnotes">
  <ol>
    <li id="fn:1" role="doc-endnote">
      <p>The filtering pipeline described in this section is largely taken from: Kret, E., &amp; Sjak-Shie, E. E. (2018). Preprocessing pupil size data: Guidelines and code. Behavioral Research Methods, 1-7. Available at: https://rdcu.be/2QCd. <a href="#fnref:1" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
  </ol>
</div>

          

          
            
          
        </main>
        

  <hr>
  <footer>
    

    
<!-- The attrib footer -->
<p class="text-small text-grey-dk-100 mb-0">© Copyright Leiden University, 2022.</p>

    
  </footer>


      </div>
    </div>
    
      

<div class="search-overlay"></div>

    
  </div>

  
</body>
</html>

